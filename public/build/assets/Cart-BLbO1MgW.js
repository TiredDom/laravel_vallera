import{a as W,_ as Z}from"./MainLayout-CeU-tZpw.js";import{_ as Q}from"./ProductCard-D9y2bKXh.js";import{_ as K}from"./ProductDetailModal-D8XROKt4.js";import{_ as ee}from"./ToastNotification-CG3BBfYZ.js";import{c as d,a as e,o as n,r as y,x as T,k as m,b as p,w as q,u as x,s as M,p as h,v as _,t as c,F as V,m as H,E as te,q as se,T as le,I as ae,g as A,z as oe,j as B,A as F,h as re,d as L,l as J}from"./app-DIvzueNj.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as R,r as X}from"./XMarkIcon-D7A2C040.js";import{r as G}from"./TruckIcon-nThWJ4Om.js";import{r as ie}from"./ArrowLeftIcon-BmCKeCaI.js";import{r as de}from"./CreditCardIcon-DO50kOSO.js";import{r as ue}from"./SparklesIcon-N282QgLD.js";import{r as ce}from"./ShieldCheckIcon-cYm1bzsK.js";import"./EyeIcon-BCBCErta.js";import"./transition-B-wkbTCN.js";function me(f,w){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"})])}function pe(f,w){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})])}function ve(f,w){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})])}function be(f,w){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function xe(f,w){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}const fe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},ge={class:"flex min-h-full items-center justify-center p-4"},he={class:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden"},ye={class:"p-8"},we={class:"flex items-center justify-center mb-8"},ke={class:"flex items-center"},_e={class:"flex items-center"},Ce={class:"flex items-center"},$e={key:0,class:"space-y-6"},Ne={class:"flex items-center gap-3 mb-6"},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Se={key:0,class:"text-red-600 text-sm mt-1"},Me={key:0,class:"text-red-600 text-sm mt-1"},Ve={key:0,class:"text-red-600 text-sm mt-1"},Pe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},je={key:0,class:"text-red-600 text-sm mt-1"},De={key:0,class:"text-red-600 text-sm mt-1"},Be={key:0,class:"text-red-600 text-sm mt-1"},Le={class:"bg-slate-50 p-4 rounded-lg"},qe={class:"flex justify-between text-sm mb-2"},Ae={class:"font-semibold"},Te={class:"flex justify-between text-sm mb-3"},Ue={class:"font-semibold"},Ie={class:"flex justify-between text-lg font-bold border-t border-slate-200 pt-3"},Oe={class:"text-primary-600"},Ye={key:1,class:"space-y-6"},Ee={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Fe=["onClick"],Xe={class:"font-bold text-slate-900 mb-1"},He={class:"text-xs text-slate-600"},Je={key:0,class:"space-y-4 bg-slate-50 p-6 rounded-lg"},Re={key:0,class:"text-red-600 text-sm mt-1"},Ge={key:1,class:"space-y-4 bg-slate-50 p-6 rounded-lg"},We=["value"],Ze={key:0,class:"text-red-600 text-sm mt-1"},Qe={key:0,class:"text-red-600 text-sm mt-1"},Ke={class:"grid grid-cols-2 gap-4"},et=["value"],tt={key:0,class:"text-red-600 text-sm mt-1"},st={key:0,class:"text-red-600 text-sm mt-1"},lt={key:2,class:"space-y-4 bg-slate-50 p-6 rounded-lg"},at={key:0,class:"text-red-600 text-sm mt-1"},ot={key:0,class:"text-red-600 text-sm mt-1"},rt={key:0,class:"text-red-600 text-sm mt-1"},nt={class:"bg-slate-50 p-4 rounded-lg"},it={class:"flex justify-between text-lg font-bold"},dt={class:"text-primary-600"},ut=["disabled"],ct={key:0,class:"fixed top-24 right-4 z-[100] max-w-sm w-full"},mt={class:"p-4 bg-emerald-100 border border-emerald-300 text-emerald-800 rounded-lg shadow-lg flex items-center gap-3"},pt={__name:"CheckoutModal",props:{show:Boolean,total:Number,subtotal:{type:Number,default:0},shipping:{type:Number,default:500}},emits:["close","success"],setup(f,{emit:w}){const g=w,k=y(1),v=y(""),C=y(!1),$=y({show:!1,message:"",type:"success"}),r=y({name:"",phone:"",address:"",city:"",province:"",postalCode:"",notes:""}),a=y({gcash:{phone:""},card:{cardNumber:"",cardName:"",expiryDate:"",cvv:""},bank:{bankName:"",accountNumber:"",accountName:""}}),l=y({}),U=[{id:"gcash",name:"GCash",icon:pe,description:"Mobile wallet payment"},{id:"card",name:"Credit/Debit Card",icon:de,description:"Visa, Mastercard, AmEx"},{id:"bank",name:"Bank Transfer",icon:me,description:"Direct bank transfer"}];function P(o,t="success"){$.value={show:!0,message:o,type:t}}function I(){$.value.show=!1}function b(o){return!o||typeof o!="string"?"":o.replace(/<[^>]*>/g,"").trim()}function N(){return l.value={},r.value.name=b(r.value.name),r.value.phone=b(r.value.phone),r.value.address=b(r.value.address),r.value.city=b(r.value.city),r.value.province=b(r.value.province),r.value.postalCode=b(r.value.postalCode),r.value.notes=b(r.value.notes),(!r.value.name||r.value.name.length<2)&&(l.value.name="Full name is required (minimum 2 characters)"),(!r.value.phone||!/^(09|\+639)\d{9}$/.test(r.value.phone))&&(l.value.phone="Valid Philippine mobile number required (09XXXXXXXXX)"),(!r.value.address||r.value.address.length<10)&&(l.value.address="Complete address is required (minimum 10 characters)"),(!r.value.city||r.value.city.length<2)&&(l.value.city="City is required"),(!r.value.province||r.value.province.length<2)&&(l.value.province="Province is required"),(!r.value.postalCode||!/^\d{4}$/.test(r.value.postalCode))&&(l.value.postalCode="Postal code required (4 digits)"),Object.keys(l.value).length===0}function j(){N()&&(k.value=2,l.value={})}function O(o){v.value=o,l.value={}}function D(){return l.value={},v.value==="gcash"?(a.value.gcash.phone=b(a.value.gcash.phone),(!a.value.gcash.phone||!/^(09|\+639)\d{9}$/.test(a.value.gcash.phone))&&(l.value.gcashPhone="Valid GCash number required")):v.value==="card"?(a.value.card.cardNumber=b(a.value.card.cardNumber),a.value.card.cardName=b(a.value.card.cardName),a.value.card.expiryDate=b(a.value.card.expiryDate),a.value.card.cvv=b(a.value.card.cvv),(!a.value.card.cardNumber||!/^\d{16}$/.test(a.value.card.cardNumber.replace(/\s/g,"")))&&(l.value.cardNumber="Valid 16-digit card number required"),(!a.value.card.cardName||a.value.card.cardName.length<3)&&(l.value.cardName="Cardholder name required"),(!a.value.card.expiryDate||!/^\d{2}\/\d{2}$/.test(a.value.card.expiryDate))&&(l.value.expiryDate="Valid expiry date required (MM/YY)"),(!a.value.card.cvv||!/^\d{3,4}$/.test(a.value.card.cvv))&&(l.value.cvv="Valid CVV required (3 or 4 digits)")):v.value==="bank"&&(a.value.bank.bankName=b(a.value.bank.bankName),a.value.bank.accountNumber=b(a.value.bank.accountNumber),a.value.bank.accountName=b(a.value.bank.accountName),(!a.value.bank.bankName||a.value.bank.bankName.length<3)&&(l.value.bankName="Bank name required"),(!a.value.bank.accountNumber||a.value.bank.accountNumber.length<6)&&(l.value.accountNumber="Valid account number required"),(!a.value.bank.accountName||a.value.bank.accountName.length<3)&&(l.value.accountName="Account holder name required")),Object.keys(l.value).length===0}function Y(){if(D()){if(C.value=!0,v.value==="gcash"){setTimeout(()=>{C.value=!1,g("success"),g("close"),P("GCash payment processed successfully!","success"),z()},2e3);return}A.post("/cart/checkout",{payment_method:v.value,payment_data:JSON.parse(JSON.stringify(a.value[v.value])),delivery:JSON.parse(JSON.stringify(r.value))},{onSuccess:()=>{g("success"),g("close"),z()},onError:o=>{C.value=!1,o.error&&P(o.error,"error")},onFinish:()=>{C.value=!1}})}}function z(){k.value=1,v.value="",r.value={name:"",phone:"",address:"",city:"",province:"",postalCode:"",notes:""},a.value={gcash:{phone:""},card:{cardNumber:"",cardName:"",expiryDate:"",cvv:""},bank:{bankName:"",accountNumber:"",accountName:""}},l.value={}}function S(){g("close"),setTimeout(z,300)}function i(o){var E;let t=o.target.value.replace(/\s/g,""),u=((E=t.match(/.{1,4}/g))==null?void 0:E.join(" "))||t;a.value.card.cardNumber=u}function s(o){let t=o.target.value.replace(/\D/g,"");t.length>=2&&(t=t.slice(0,2)+"/"+t.slice(2,4)),a.value.card.expiryDate=t}return(o,t)=>(n(),d(V,null,[(n(),T(ae,{to:"body"},[p(le,{name:"modal"},{default:q(()=>[f.show?(n(),d("div",fe,[e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:S}),e("div",ge,[e("div",he,[e("button",{onClick:S,class:"absolute top-4 right-4 z-10 p-2 hover:bg-slate-100 rounded-full transition-colors"},[p(x(R),{class:"w-6 h-6 text-slate-600"})]),e("div",ye,[e("div",we,[e("div",ke,[e("div",_e,[e("div",{class:M(["w-10 h-10 rounded-full flex items-center justify-center font-bold",k.value>=1?"bg-primary-600 text-white":"bg-slate-200 text-slate-500"])}," 1 ",2),t[14]||(t[14]=e("span",{class:"ml-2 text-sm font-medium text-slate-700"},"Delivery",-1))]),e("div",{class:M(["w-24 h-1 mx-4",k.value>=2?"bg-primary-600":"bg-slate-200"])},null,2),e("div",Ce,[e("div",{class:M(["w-10 h-10 rounded-full flex items-center justify-center font-bold",k.value>=2?"bg-primary-600 text-white":"bg-slate-200 text-slate-500"])}," 2 ",2),t[15]||(t[15]=e("span",{class:"ml-2 text-sm font-medium text-slate-700"},"Payment",-1))])])]),k.value===1?(n(),d("div",$e,[e("div",Ne,[p(x(G),{class:"w-8 h-8 text-primary-600"}),t[16]||(t[16]=e("h2",{class:"text-2xl font-bold text-slate-900"},"Delivery Information",-1))]),e("div",ze,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Full Name *",-1)),h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>r.value.name=u),type:"text",placeholder:"Juan Dela Cruz",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[_,r.value.name]]),l.value.name?(n(),d("p",Se,c(l.value.name),1)):m("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Mobile Number *",-1)),h(e("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>r.value.phone=u),type:"tel",placeholder:"09123456789",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[_,r.value.phone]]),l.value.phone?(n(),d("p",Me,c(l.value.phone),1)):m("",!0)])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Complete Address *",-1)),h(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=u=>r.value.address=u),rows:"3",placeholder:"House No., Street, Barangay",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[_,r.value.address]]),l.value.address?(n(),d("p",Ve,c(l.value.address),1)):m("",!0)]),e("div",Pe,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"City *",-1)),h(e("input",{"onUpdate:modelValue":t[3]||(t[3]=u=>r.value.city=u),type:"text",placeholder:"Manila",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[_,r.value.city]]),l.value.city?(n(),d("p",je,c(l.value.city),1)):m("",!0)]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Province *",-1)),h(e("input",{"onUpdate:modelValue":t[4]||(t[4]=u=>r.value.province=u),type:"text",placeholder:"Metro Manila",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[_,r.value.province]]),l.value.province?(n(),d("p",De,c(l.value.province),1)):m("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Postal Code *",-1)),h(e("input",{"onUpdate:modelValue":t[5]||(t[5]=u=>r.value.postalCode=u),type:"text",maxlength:"4",placeholder:"1000",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[_,r.value.postalCode]]),l.value.postalCode?(n(),d("p",Be,c(l.value.postalCode),1)):m("",!0)])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Delivery Notes (Optional)",-1)),h(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=u=>r.value.notes=u),rows:"2",placeholder:"Special instructions, landmarks, etc.",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[_,r.value.notes]])]),e("div",Le,[e("div",qe,[t[24]||(t[24]=e("span",{class:"text-slate-600"},"Subtotal:",-1)),e("span",Ae,"₱"+c(f.subtotal.toLocaleString()),1)]),e("div",Te,[t[25]||(t[25]=e("span",{class:"text-slate-600"},"Shipping:",-1)),e("span",Ue,"₱"+c(f.shipping.toLocaleString()),1)]),e("div",Ie,[t[26]||(t[26]=e("span",null,"Total:",-1)),e("span",Oe,"₱"+c(f.total.toLocaleString()),1)])]),e("button",{onClick:j,class:"w-full py-4 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-colors"}," Continue to Payment ")])):m("",!0),k.value===2?(n(),d("div",Ye,[e("button",{onClick:t[7]||(t[7]=u=>k.value=1),class:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4"},[p(x(ie),{class:"w-5 h-5"}),t[27]||(t[27]=e("span",{class:"text-sm font-medium"},"Back to Delivery",-1))]),t[38]||(t[38]=e("h2",{class:"text-2xl font-bold text-slate-900 mb-6"},"Select Payment Method",-1)),e("div",Ee,[(n(),d(V,null,H(U,u=>e("button",{key:u.id,onClick:E=>O(u.id),class:M(["p-6 border-2 rounded-xl transition-all hover:border-primary-300 hover:shadow-md",v.value===u.id?"border-primary-600 bg-primary-50":"border-slate-200"])},[(n(),T(te(u.icon),{class:M(["w-12 h-12 mx-auto mb-3",v.value===u.id?"text-primary-600":"text-slate-400"])},null,8,["class"])),e("h3",Xe,c(u.name),1),e("p",He,c(u.description),1)],10,Fe)),64))]),v.value==="gcash"?(n(),d("div",Je,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"GCash Number *",-1)),h(e("input",{"onUpdate:modelValue":t[8]||(t[8]=u=>a.value.gcash.phone=u),type:"tel",placeholder:"09123456789",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[_,a.value.gcash.phone]]),l.value.gcashPhone?(n(),d("p",Re,c(l.value.gcashPhone),1)):m("",!0)])])):m("",!0),v.value==="card"?(n(),d("div",Ge,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Card Number *",-1)),e("input",{value:a.value.card.cardNumber,onInput:i,type:"text",maxlength:"19",placeholder:"1234 5678 9012 3456",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,40,We),l.value.cardNumber?(n(),d("p",Ze,c(l.value.cardNumber),1)):m("",!0)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Cardholder Name *",-1)),h(e("input",{"onUpdate:modelValue":t[9]||(t[9]=u=>a.value.card.cardName=u),type:"text",placeholder:"JUAN DELA CRUZ",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[_,a.value.card.cardName]]),l.value.cardName?(n(),d("p",Qe,c(l.value.cardName),1)):m("",!0)]),e("div",Ke,[e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Expiry Date *",-1)),e("input",{value:a.value.card.expiryDate,onInput:s,type:"text",maxlength:"5",placeholder:"MM/YY",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,40,et),l.value.expiryDate?(n(),d("p",tt,c(l.value.expiryDate),1)):m("",!0)]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"CVV *",-1)),h(e("input",{"onUpdate:modelValue":t[10]||(t[10]=u=>a.value.card.cvv=u),type:"password",maxlength:"4",placeholder:"•••",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[_,a.value.card.cvv]]),l.value.cvv?(n(),d("p",st,c(l.value.cvv),1)):m("",!0)])])])):m("",!0),v.value==="bank"?(n(),d("div",lt,[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Bank Name *",-1)),h(e("select",{"onUpdate:modelValue":t[11]||(t[11]=u=>a.value.bank.bankName=u),class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},[...t[33]||(t[33]=[e("option",{value:""},"Select Bank",-1),e("option",{value:"BDO"},"BDO",-1),e("option",{value:"BPI"},"BPI",-1),e("option",{value:"Metrobank"},"Metrobank",-1),e("option",{value:"Unionbank"},"Unionbank",-1),e("option",{value:"Landbank"},"Landbank",-1)])],512),[[se,a.value.bank.bankName]]),l.value.bankName?(n(),d("p",at,c(l.value.bankName),1)):m("",!0)]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Account Number *",-1)),h(e("input",{"onUpdate:modelValue":t[12]||(t[12]=u=>a.value.bank.accountNumber=u),type:"text",placeholder:"1234567890",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[_,a.value.bank.accountNumber]]),l.value.accountNumber?(n(),d("p",ot,c(l.value.accountNumber),1)):m("",!0)]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Account Holder Name *",-1)),h(e("input",{"onUpdate:modelValue":t[13]||(t[13]=u=>a.value.bank.accountName=u),type:"text",placeholder:"Juan Dela Cruz",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[_,a.value.bank.accountName]]),l.value.accountName?(n(),d("p",rt,c(l.value.accountName),1)):m("",!0)])])):m("",!0),e("div",nt,[e("div",it,[t[37]||(t[37]=e("span",null,"Total to Pay:",-1)),e("span",dt,"₱"+c(f.total.toLocaleString()),1)])]),e("button",{onClick:Y,disabled:C.value||!v.value,class:"w-full py-4 bg-primary-600 hover:bg-primary-700 disabled:bg-slate-300 text-white font-bold rounded-lg transition-colors disabled:cursor-not-allowed"},c(C.value?"Processing...":"Complete Order"),9,ut)])):m("",!0)])])])])):m("",!0)]),_:1})])),$.value.show?(n(),d("div",ct,[e("div",mt,[e("span",null,c($.value.message),1),e("button",{onClick:I,class:"ml-auto text-emerald-700 hover:text-emerald-900"},[p(x(R),{class:"w-5 h-5"})])])])):m("",!0)],64))}},vt=ne(pt,[["__scopeId","data-v-7c0ee900"]]),bt={class:"relative bg-gradient-to-br from-primary-600 via-emerald-700 to-emerald-800 text-white overflow-hidden"},xt={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-16 relative"},ft={class:"max-w-4xl mx-auto text-center","data-aos":"fade-up"},gt={class:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full mb-4"},ht={class:"text-sm font-medium"},yt={class:"bg-zinc-50 min-h-screen"},wt={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-12"},kt={key:0,class:"max-w-2xl mx-auto text-center py-24 bg-white rounded-2xl shadow-lg","data-aos":"fade-up"},_t={class:"mx-auto w-24 h-24 bg-gradient-to-br from-primary-100 to-emerald-100 rounded-full flex items-center justify-center mb-6"},Ct={key:1,class:"max-w-2xl mx-auto text-center py-24 bg-white rounded-2xl shadow-lg","data-aos":"fade-up"},$t={class:"mx-auto w-24 h-24 bg-gradient-to-br from-zinc-100 to-zinc-200 rounded-full flex items-center justify-center mb-6"},Nt={key:2,class:"grid grid-cols-1 lg:grid-cols-3 gap-8","data-aos":"fade-up"},zt={class:"lg:col-span-2 space-y-4"},St={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 overflow-hidden"},Mt={role:"list",class:"divide-y divide-zinc-200"},Vt={class:"flex gap-6"},Pt={class:"flex-shrink-0 w-24 h-24 sm:w-32 sm:h-32 rounded-xl overflow-hidden shadow-sm group-hover:shadow-md transition-shadow"},jt=["src","alt"],Dt={key:1,class:"w-full h-full bg-gradient-to-br from-zinc-100 to-zinc-200 flex items-center justify-center"},Bt={class:"flex-1 flex flex-col justify-between"},Lt={class:"flex justify-between"},qt={class:"text-lg font-bold text-zinc-900 mb-1"},At={class:"text-sm text-zinc-500 uppercase tracking-wider"},Tt={class:"text-xl font-bold text-primary-600 ml-4"},Ut={class:"text-sm text-zinc-600 mt-2"},It={class:"flex items-center justify-between mt-4"},Ot={class:"flex items-center gap-3 bg-zinc-100 rounded-xl p-1"},Yt=["onClick","disabled"],Et={class:"min-w-[60px] text-center font-bold text-zinc-900"},Ft=["onClick"],Xt=["onClick"],Ht={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 p-6"},Jt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Rt={class:"flex items-center gap-3 p-4 bg-blue-50 rounded-xl border border-blue-100"},Gt={class:"flex-shrink-0 w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center"},Wt={class:"flex items-center gap-3 p-4 bg-emerald-50 rounded-xl border border-emerald-100"},Zt={class:"flex-shrink-0 w-10 h-10 bg-emerald-600 rounded-lg flex items-center justify-center"},Qt={class:"lg:col-span-1"},Kt={class:"sticky top-24 space-y-4"},es={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 p-6"},ts={class:"space-y-4"},ss={class:"flex items-center justify-between text-zinc-600"},ls={class:"font-semibold text-zinc-900"},as={class:"flex items-center justify-between text-zinc-600"},os={class:"font-semibold text-emerald-600"},rs={class:"border-t-2 border-zinc-200 pt-4"},ns={class:"flex items-center justify-between"},is={class:"text-2xl font-bold text-primary-600"},ds={key:0,class:"bg-white py-16"},us={class:"container mx-auto px-4 sm:px-6 lg:px-8"},cs={class:"grid grid-cols-2 md:grid-cols-4 gap-6"},Ns={__name:"Cart",props:{suggestedProducts:Array},setup(f){const w=oe(),g=y(w.props.cartItems||[]),k=B(()=>{var i;return!!((i=w.props.auth)!=null&&i.user)}),v=y(!1),C=y(!1),$=y(!1),r=y(null),a=y({show:!1,message:"",type:"success"});F(()=>w.props.cartItems,i=>{g.value=i||[]}),F(()=>{var i;return(i=w.props.flash)==null?void 0:i.success},i=>{i&&l(i,"success")}),F(()=>{var i;return(i=w.props.flash)==null?void 0:i.error},i=>{i&&l(i,"error")});function l(i,s="success"){a.value={show:!0,message:i,type:s}}function U(){a.value.show=!1}function P(i){l(i,"success")}function I(i){r.value=i,$.value=!0}const b=B(()=>g.value.reduce((i,s)=>i+s.price*s.quantity,0)),N=B(()=>g.value.length?500:0),j=B(()=>b.value+N.value);function O(i){A.delete(`/cart/${i}`,{preserveScroll:!0})}function D(i,s){A.patch(`/cart/${i}`,{quantity:s},{preserveScroll:!0})}function Y(){if(!k.value){v.value=!0;return}if(g.value.length===0){l("Your cart is empty","error");return}C.value=!0}function z(){l("Order placed successfully! Redirecting to your orders...","success"),C.value=!1}function S(i){if(!k.value){v.value=!0;return}if(!i||!i.id||!i.name||!i.price||i.stock<=0){l("Invalid product or out of stock","error");return}const s={product_id:i.id,name:i.name,price:i.price,quantity:1,category:i.category};A.post("/cart",s,{preserveScroll:!0,onSuccess:()=>{l("Product added to cart!","success"),$.value=!1},onError:o=>{l((o==null?void 0:o.error)||"Failed to add to cart","error")}})}return(i,s)=>(n(),d(V,null,[p(x(re),{title:"Your Cart"}),p(Z,null,{default:q(()=>[p(ee,{show:a.value.show,message:a.value.message,type:a.value.type,onClose:U},null,8,["show","message","type"]),e("div",bt,[s[6]||(s[6]=e("div",{class:"absolute inset-0 bg-[url('/grid.svg')] opacity-10"},null,-1)),e("div",xt,[e("div",ft,[e("div",gt,[p(x(X),{class:"w-4 h-4"}),e("span",ht,c(g.value.length)+" "+c(g.value.length===1?"Item":"Items"),1)]),s[4]||(s[4]=e("h1",{class:"text-4xl md:text-5xl font-bold tracking-tight mb-4"}," Your Shopping Cart ",-1)),s[5]||(s[5]=e("p",{class:"text-lg text-emerald-100"}," Review your items and proceed to secure checkout ",-1))])])]),e("div",yt,[e("div",wt,[k.value?g.value.length?(n(),d("div",Nt,[e("div",zt,[e("div",St,[s[15]||(s[15]=e("div",{class:"bg-gradient-to-r from-zinc-50 to-white px-6 py-4 border-b border-zinc-200"},[e("h2",{class:"text-xl font-bold text-zinc-900"},"Cart Items")],-1)),e("ul",Mt,[(n(!0),d(V,null,H(g.value,o=>(n(),d("li",{key:o.product_id||o.id,class:"p-6 hover:bg-zinc-50 transition-colors group"},[e("div",Vt,[e("div",Pt,[o.image_url?(n(),d("img",{key:0,src:o.image_url,alt:o.name,class:"w-full h-full object-cover"},null,8,jt)):(n(),d("div",Dt,[...s[13]||(s[13]=[e("svg",{class:"w-12 h-12 text-zinc-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))]),e("div",Bt,[e("div",null,[e("div",Lt,[e("div",null,[e("h3",qt,c(o.name),1),e("p",At,c(o.category),1)]),e("p",Tt,"₱"+c((o.price*o.quantity).toLocaleString()),1)]),e("p",Ut,"₱"+c(o.price.toLocaleString())+" each",1)]),e("div",It,[e("div",Ot,[e("button",{onClick:t=>D(o.product_id||o.id,o.quantity-1),disabled:o.quantity<=1,class:"w-10 h-10 rounded-lg bg-white hover:bg-primary-600 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:text-zinc-900 transition-all flex items-center justify-center shadow-sm"},[p(x(ve),{class:"w-4 h-4"})],8,Yt),e("span",Et,c(o.quantity),1),e("button",{onClick:t=>D(o.product_id||o.id,o.quantity+1),class:"w-10 h-10 rounded-lg bg-white hover:bg-primary-600 hover:text-white transition-all flex items-center justify-center shadow-sm"},[p(x(be),{class:"w-4 h-4"})],8,Ft)]),e("button",{type:"button",class:"inline-flex items-center gap-2 font-semibold text-red-600 hover:text-red-700 hover:bg-red-50 px-4 py-2 rounded-lg transition-colors",onClick:t=>O(o.product_id||o.id)},[p(x(xe),{class:"w-4 h-4"}),s[14]||(s[14]=L(" Remove ",-1))],8,Xt)])])])]))),128))])]),e("div",Ht,[s[18]||(s[18]=e("h3",{class:"text-lg font-bold text-zinc-900 mb-4"},"Why Shop With Us?",-1)),e("div",Jt,[e("div",Rt,[e("div",Gt,[p(x(ce),{class:"w-6 h-6 text-white"})]),s[16]||(s[16]=e("div",null,[e("p",{class:"font-semibold text-zinc-900 text-sm"},"Secure Payment"),e("p",{class:"text-xs text-zinc-600"},"100% Protected")],-1))]),e("div",Wt,[e("div",Zt,[p(x(G),{class:"w-6 h-6 text-white"})]),s[17]||(s[17]=e("div",null,[e("p",{class:"font-semibold text-zinc-900 text-sm"},"Free Shipping"),e("p",{class:"text-xs text-zinc-600"},"All Orders")],-1))])])])]),e("div",Qt,[e("div",Kt,[e("div",es,[s[23]||(s[23]=e("h2",{class:"text-xl font-bold text-zinc-900 mb-6"},"Order Summary",-1)),e("div",ts,[e("div",ss,[s[19]||(s[19]=e("p",null,"Subtotal",-1)),e("p",ls,"₱"+c(b.value.toLocaleString()),1)]),e("div",as,[s[20]||(s[20]=e("p",null,"Shipping Fee",-1)),e("p",os,"₱"+c(N.value.toLocaleString()),1)]),e("div",rs,[e("div",ns,[s[21]||(s[21]=e("p",{class:"text-lg font-bold text-zinc-900"},"Total",-1)),e("p",is,"₱"+c(j.value.toLocaleString()),1)])])]),e("div",{class:"mt-6"},[e("button",{class:"w-full bg-gradient-to-r from-primary-600 to-emerald-600 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all",onClick:Y}," Proceed to Checkout ")]),p(x(J),{href:"/products",class:"block text-center mt-4 text-primary-600 hover:text-primary-700 font-semibold text-sm"},{default:q(()=>[...s[22]||(s[22]=[L(" Continue Shopping ",-1)])]),_:1})]),s[24]||(s[24]=e("div",{class:"bg-gradient-to-br from-zinc-50 to-white rounded-2xl border border-zinc-200 p-6"},[e("h3",{class:"text-sm font-bold text-zinc-900 mb-3 uppercase tracking-wider"},"Secure Checkout"),e("div",{class:"space-y-3 text-sm text-zinc-600"},[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-emerald-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("span",null,"SSL Encrypted Payment")]),e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-emerald-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("span",null,"30-Day Return Policy")]),e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-emerald-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("span",null,"5-Year Warranty")])])],-1))])])])):(n(),d("div",Ct,[e("div",$t,[p(x(X),{class:"w-12 h-12 text-zinc-400"})]),s[11]||(s[11]=e("h2",{class:"text-3xl font-bold text-zinc-900 mb-3"},"Your cart is empty",-1)),s[12]||(s[12]=e("p",{class:"text-lg text-zinc-600 mb-8"},"Discover our collection of premium furniture",-1)),p(x(J),{href:"/products",class:"inline-flex items-center gap-2 bg-primary-600 text-white font-bold px-8 py-4 rounded-xl hover:bg-primary-700 transition-all hover:scale-105 shadow-lg"},{default:q(()=>[...s[10]||(s[10]=[L(" Continue Shopping ",-1),e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})],-1)])]),_:1})])):(n(),d("div",kt,[e("div",_t,[p(x(X),{class:"w-12 h-12 text-primary-600"})]),s[8]||(s[8]=e("h2",{class:"text-3xl font-bold text-zinc-900 mb-3"},"Sign in to view your cart",-1)),s[9]||(s[9]=e("p",{class:"text-lg text-zinc-600 mb-8"},"Please sign in or create an account to start shopping.",-1)),e("button",{onClick:s[0]||(s[0]=o=>v.value=!0),class:"inline-flex items-center gap-2 bg-primary-600 text-white font-bold px-8 py-4 rounded-xl hover:bg-primary-700 transition-all hover:scale-105 shadow-lg"},[p(x(ue),{class:"w-5 h-5"}),s[7]||(s[7]=L(" Sign In / Sign Up ",-1))])]))])]),f.suggestedProducts&&f.suggestedProducts.length>0?(n(),d("div",ds,[e("div",us,[s[25]||(s[25]=e("div",{class:"text-center mb-12","data-aos":"fade-up"},[e("h2",{class:"text-3xl md:text-4xl font-bold text-zinc-900 mb-3"},"You Might Also Like"),e("p",{class:"text-lg text-zinc-600"},"Complete your home with these handpicked items")],-1)),e("div",cs,[(n(!0),d(V,null,H(f.suggestedProducts,(o,t)=>(n(),T(Q,{key:o.id,id:o.id,name:o.name,price:o.price,category:o.category,stock:o.stock,image:o.image_url,delay:t*100,onAddToCart:S,onClick:u=>I(o)},null,8,["id","name","price","category","stock","image","delay","onClick"]))),128))])])])):m("",!0),r.value?(n(),T(K,{key:1,show:$.value,product:r.value,onClose:s[1]||(s[1]=o=>$.value=!1),onAddToCart:S},null,8,["show","product"])):m("",!0),p(W,{show:v.value,onClose:s[2]||(s[2]=o=>v.value=!1),onAuthSuccess:P},null,8,["show"]),p(vt,{show:C.value,total:j.value,subtotal:b.value,shipping:N.value,onClose:s[3]||(s[3]=o=>C.value=!1),onSuccess:z},null,8,["show","total","subtotal","shipping"])]),_:1})],64))}};export{Ns as default};
