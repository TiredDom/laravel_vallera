import{c as r,a as e,b as m,w as x,u as f,l as p,o as l,p as g,t as n,A as w,k as c,e as u,v as b,d as h,j as v,g as y,h as k,F as U}from"./app-B-e4HDZA.js";const C={class:"bg-white border-b border-slate-200 shadow-sm"},$={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6"},_={class:"flex items-center gap-3 sm:gap-4"},j={__name:"EditUserHeader",setup(t){return(a,o)=>(l(),r("div",C,[e("div",$,[e("div",_,[m(f(p),{href:"/admin/dashboard",class:"p-2 hover:bg-slate-100 rounded-lg transition-colors flex-shrink-0"},{default:x(()=>[...o[0]||(o[0]=[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1}),o[1]||(o[1]=e("div",{class:"min-w-0"},[e("h1",{class:"text-xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent"}," Edit User "),e("p",{class:"mt-1 text-sm sm:text-base text-slate-600"},"Update user account")],-1))])])]))}},V={class:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden","data-aos":"fade-up"},E={class:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-slate-200"},S={class:"flex items-center gap-4"},N={class:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold text-2xl shadow-lg"},B={class:"text-xl font-bold text-slate-900"},M={class:"text-sm text-slate-600"},F={class:"flex items-center gap-2 mt-2"},O={key:0,class:"px-2 py-1 text-xs font-bold rounded-full bg-red-100 text-red-800"},A={key:1,class:"px-2 py-1 text-xs font-bold rounded-full bg-emerald-100 text-emerald-800"},P={key:2,class:"px-2 py-1 text-xs font-bold rounded-full bg-slate-100 text-slate-700"},H={class:"text-xs text-slate-500"},T={key:0,class:"mt-1 text-sm text-red-600"},q={key:0,class:"mt-1 text-sm text-red-600"},z={class:"border-t border-slate-200 pt-6"},D={class:"flex items-center justify-between mb-4"},I={key:0,class:"space-y-4"},J={key:0,class:"mt-1 text-sm text-red-600"},L={class:"flex items-center justify-between pt-6 border-t border-slate-200"},G=["disabled"],K={key:0},Q={key:1},R={__name:"EditUserForm",props:{editingUser:Object,form:Object},setup(t){const a=g(!1),o=i=>i?i.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2):"U";return(i,s)=>(l(),r("div",V,[e("div",E,[e("div",S,[e("div",N,n(o(t.editingUser.name)),1),e("div",null,[e("h2",B,n(t.editingUser.name),1),e("p",M,n(t.editingUser.email),1),e("div",F,[t.editingUser.is_super_admin?(l(),r("span",O," Super Admin ")):t.editingUser.is_admin?(l(),r("span",A," Admin ")):(l(),r("span",P," User ")),e("span",H," Joined "+n(t.editingUser.created_at),1)])])])]),e("form",{onSubmit:s[5]||(s[5]=v(d=>i.$emit("submit"),["prevent"])),class:"p-6 space-y-6"},[e("div",null,[s[6]||(s[6]=e("label",{class:"block text-sm font-semibold text-slate-700 mb-2"},"Full Name",-1)),c(e("input",{"onUpdate:modelValue":s[0]||(s[0]=d=>t.form.name=d),type:"text",required:"",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter full name"},null,512),[[b,t.form.name]]),t.form.errors.name?(l(),r("p",T,n(t.form.errors.name),1)):u("",!0)]),e("div",null,[s[7]||(s[7]=e("label",{class:"block text-sm font-semibold text-slate-700 mb-2"},"Email Address",-1)),c(e("input",{"onUpdate:modelValue":s[1]||(s[1]=d=>t.form.email=d),type:"email",required:"",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter email address"},null,512),[[b,t.form.email]]),t.form.errors.email?(l(),r("p",q,n(t.form.errors.email),1)):u("",!0)]),e("div",z,[e("div",D,[s[8]||(s[8]=e("label",{class:"block text-sm font-semibold text-slate-700"},"Change Password",-1)),e("button",{type:"button",onClick:s[2]||(s[2]=d=>a.value=!a.value),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},n(a.value?"Cancel":"Change Password"),1)]),a.value?(l(),r("div",I,[e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"New Password",-1)),c(e("input",{"onUpdate:modelValue":s[3]||(s[3]=d=>t.form.password=d),type:"password",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter new password (min 8 characters)"},null,512),[[b,t.form.password]]),t.form.errors.password?(l(),r("p",J,n(t.form.errors.password),1)):u("",!0)]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Confirm Password",-1)),c(e("input",{"onUpdate:modelValue":s[4]||(s[4]=d=>t.form.password_confirmation=d),type:"password",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Confirm new password"},null,512),[[b,t.form.password_confirmation]])])])):u("",!0)]),s[12]||(s[12]=w('<div class="bg-blue-50 border border-blue-200 rounded-lg p-4"><div class="flex items-start gap-3"><svg class="w-5 h-5 text-blue-600 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div class="flex-1"><h4 class="text-sm font-semibold text-blue-900 mb-1">Important Notes</h4><ul class="text-sm text-blue-700 space-y-1"><li>• Changes will be applied immediately</li><li>• This action will be logged in the audit system</li><li>• User will be notified of any email changes</li></ul></div></div></div>',1)),e("div",L,[m(f(p),{href:"/admin/dashboard",class:"px-6 py-3 text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-lg font-semibold transition-colors"},{default:x(()=>[...s[11]||(s[11]=[h(" Cancel ",-1)])]),_:1}),e("button",{type:"submit",disabled:t.form.processing,class:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"},[t.form.processing?(l(),r("span",K,"Saving...")):(l(),r("span",Q,"Save Changes"))],8,G)])],32)]))}},W={key:0,class:"mt-6 bg-white rounded-xl shadow-lg border border-slate-200 p-6","data-aos":"fade-up","data-aos-delay":"100"},X={class:"flex items-center gap-3 mb-4"},Y={class:"text-sm text-slate-600"},Z={__name:"UserOrderHistory",props:{ordersCount:Number},setup(t){return(a,o)=>t.ordersCount>0?(l(),r("div",W,[e("div",X,[o[1]||(o[1]=e("svg",{class:"w-6 h-6 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1)),e("div",null,[o[0]||(o[0]=e("h3",{class:"text-lg font-bold text-slate-900"},"Order History",-1)),e("p",Y,"This user has "+n(t.ordersCount)+" order(s)",1)])]),o[2]||(o[2]=e("div",{class:"bg-slate-50 rounded-lg p-4"},[e("p",{class:"text-sm text-slate-600"},"View detailed order history and management in the Orders section.")],-1))])):u("",!0)}},ee={class:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},te={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},oe={__name:"EditUser",props:{editingUser:Object,isSuperAdmin:Boolean},setup(t){const a=t,o=y({name:a.editingUser.name,email:a.editingUser.email,password:"",password_confirmation:""}),i=()=>{o.name,o.email,o.password&&(o.password,o.password_confirmation),o.patch(`/admin/users/${a.editingUser.id}`,{preserveScroll:!0,onSuccess:()=>{o.reset("password","password_confirmation")}})};return(s,d)=>(l(),r(U,null,[m(f(k),{title:"Edit User"}),e("div",ee,[m(j),e("div",te,[m(R,{"editing-user":t.editingUser,form:f(o),onSubmit:i},null,8,["editing-user","form"]),m(Z,{"orders-count":t.editingUser.orders_count},null,8,["orders-count"])])])],64))}};export{oe as default};
