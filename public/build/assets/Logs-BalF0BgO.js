import{c as i,a as e,o as a,b as c,u,t as l,f as p,F as m,g as f,n as h,d as x,r as v,y as w,h as y,w as z,l as $,s as k}from"./app-GKyMU9YN.js";import{r as b}from"./ClockIcon-BggEl9j0.js";import{r as C}from"./ArrowLeftIcon-DPKmqoR-.js";import{r as L}from"./ShieldCheckIcon-CG7L9TYS.js";function P(t,d){return a(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function j(t,d){return a(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}const N={class:"p-6 border-b border-zinc-200"},A={class:"flex items-center justify-between mb-4"},Q=["value"],S={class:"flex items-center gap-2 text-sm text-zinc-600"},T={__name:"LogFilters",props:{searchQuery:String,filteredCount:Number,totalCount:Number},emits:["update:searchQuery"],setup(t){return(d,s)=>(a(),i("div",N,[e("div",A,[e("input",{value:t.searchQuery,onInput:s[0]||(s[0]=o=>d.$emit("update:searchQuery",o.target.value)),type:"text",placeholder:"Search logs by user, action, or description...",class:"flex-1 px-4 py-3 rounded-xl border-2 border-zinc-200 focus:border-primary-500 focus:ring focus:ring-primary-200 transition-all"},null,40,Q)]),e("div",S,[c(u(b),{class:"w-4 h-4"}),e("span",null,"Showing "+l(t.filteredCount)+" of "+l(t.totalCount)+" total logs",1)])]))}},B={class:"divide-y divide-zinc-200"},M={key:0,class:"p-12 text-center"},U={class:"flex items-start gap-4"},V={class:"flex-shrink-0 w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-white font-bold shadow-lg"},D={class:"flex-1"},F={class:"flex items-start justify-between mb-2"},I={class:"flex items-center gap-2 mb-1"},E={class:"font-bold text-zinc-900"},O={class:"text-sm text-zinc-500"},q={class:"text-right"},G={class:"flex items-center gap-1.5 text-sm text-zinc-500"},R={key:0,class:"text-xs text-zinc-400 mt-1"},H={class:"bg-zinc-50 rounded-lg p-4 border border-zinc-200"},J={class:"text-sm text-zinc-700 font-medium"},K={key:0,class:"flex items-center gap-2 mt-2 text-xs text-zinc-500"},W={class:"px-2 py-1 bg-white rounded border border-zinc-200"},X={__name:"LogList",props:{filteredLogs:Array},setup(t){function d(s){return{promote_user:"bg-emerald-100 text-emerald-700",demote_user:"bg-red-100 text-red-700",update_order_status:"bg-blue-100 text-blue-700",create_order:"bg-purple-100 text-purple-700",cancel_order:"bg-amber-100 text-amber-700"}[s]||"bg-zinc-100 text-zinc-700"}return(s,o)=>(a(),i("div",B,[t.filteredLogs.length===0?(a(),i("div",M,[c(u(b),{class:"w-16 h-16 text-zinc-300 mx-auto mb-4"}),o[0]||(o[0]=e("p",{class:"text-xl font-semibold text-zinc-400"},"No logs found",-1))])):p("",!0),(a(!0),i(m,null,f(t.filteredLogs,n=>(a(),i("div",{key:n.id,class:"p-6 hover:bg-zinc-50 transition-colors"},[e("div",U,[e("div",V,l(n.user.name.charAt(0).toUpperCase()),1),e("div",D,[e("div",F,[e("div",null,[e("div",I,[e("span",E,l(n.user.name),1),e("span",{class:h(["px-2 py-0.5 rounded-full text-xs font-bold",d(n.action)])},l(n.action.replace(/_/g," ").toUpperCase()),3)]),e("p",O,l(n.user.email),1)]),e("div",q,[e("div",G,[c(u(b),{class:"w-4 h-4"}),e("span",null,l(n.created_at),1)]),n.ip_address?(a(),i("div",R," IP: "+l(n.ip_address),1)):p("",!0)])]),e("div",H,[e("p",J,l(n.description),1),n.model_type?(a(),i("div",K,[e("span",W,l(n.model_type)+" #"+l(n.model_id),1)])):p("",!0)])])])]))),128))]))}},Y={key:0,class:"px-6 py-4 border-t border-zinc-200 bg-zinc-50"},Z={class:"flex items-center justify-between"},ee=["disabled"],te={class:"flex items-center gap-2"},se=["onClick"],oe={key:1,class:"text-zinc-400"},ne=["disabled"],re={__name:"LogPagination",props:{pagination:Object},emits:["goToPage"],setup(t){return(d,s)=>t.pagination.last_page>1?(a(),i("div",Y,[e("div",Z,[e("button",{onClick:s[0]||(s[0]=o=>d.$emit("goToPage",t.pagination.current_page-1)),disabled:t.pagination.current_page===1,class:"flex items-center gap-2 px-4 py-2 rounded-lg font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed bg-white border-2 border-zinc-200 text-zinc-700 hover:bg-zinc-100"},[c(u(P),{class:"w-4 h-4"}),s[2]||(s[2]=x(" Previous ",-1))],8,ee),e("div",te,[(a(!0),i(m,null,f(t.pagination.last_page,o=>(a(),i(m,{key:o},[Math.abs(o-t.pagination.current_page)<3||o===1||o===t.pagination.last_page?(a(),i("button",{key:0,onClick:n=>d.$emit("goToPage",o),class:h(["w-10 h-10 rounded-lg font-bold transition-all",o===t.pagination.current_page?"bg-gradient-to-r from-primary-600 to-emerald-600 text-white shadow-lg":"bg-white border-2 border-zinc-200 text-zinc-700 hover:bg-zinc-100"])},l(o),11,se)):Math.abs(o-t.pagination.current_page)===3?(a(),i("span",oe,"...")):p("",!0)],64))),128))]),e("button",{onClick:s[1]||(s[1]=o=>d.$emit("goToPage",t.pagination.current_page+1)),disabled:t.pagination.current_page===t.pagination.last_page,class:"flex items-center gap-2 px-4 py-2 rounded-lg font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed bg-white border-2 border-zinc-200 text-zinc-700 hover:bg-zinc-100"},[s[3]||(s[3]=x(" Next ",-1)),c(u(j),{class:"w-4 h-4"})],8,ne)])])):p("",!0)}},ie={class:"min-h-screen bg-gradient-to-br from-zinc-50 to-zinc-100"},ae={class:"bg-white shadow-lg border-b border-zinc-200 sticky top-0 z-40"},de={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},le={class:"flex justify-between items-center h-16"},ce={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},ue={class:"mb-8","data-aos":"fade-up"},ge={class:"flex items-center gap-3 mb-4"},pe={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 mb-6","data-aos":"fade-up","data-aos-delay":"100"},he={__name:"Logs",props:{logs:Array,pagination:Object},setup(t){const d=t,s=v(""),o=w(()=>{if(!s.value)return d.logs;const g=s.value.toLowerCase();return d.logs.filter(r=>r.user.name.toLowerCase().includes(g)||r.user.email.toLowerCase().includes(g)||r.action.toLowerCase().includes(g)||r.description.toLowerCase().includes(g))});function n(g){k.get(`/admin/logs?page=${g}`,{},{preserveScroll:!0,preserveState:!0})}return(g,r)=>(a(),i(m,null,[c(u(y),{title:"Audit Logs"}),e("div",ie,[e("nav",ae,[e("div",de,[e("div",le,[c(u($),{href:g.route("admin.dashboard"),class:"flex items-center text-zinc-600 hover:text-primary-600 transition-colors font-medium"},{default:z(()=>[c(u(C),{class:"w-5 h-5 mr-2"}),r[1]||(r[1]=x(" Back to Dashboard ",-1))]),_:1},8,["href"]),r[2]||(r[2]=e("div",{class:"flex items-center gap-3"},[e("span",{class:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-emerald-600 bg-clip-text text-transparent"},"Audit Logs"),e("span",{class:"px-3 py-1 bg-gradient-to-r from-red-600 to-red-700 text-white text-xs font-bold rounded-full shadow-lg"},"SUPER ADMIN")],-1)),r[3]||(r[3]=e("div",{class:"w-32"},null,-1))])])]),e("main",ce,[e("div",ue,[e("div",ge,[c(u(L),{class:"w-10 h-10 text-primary-600"}),r[4]||(r[4]=e("div",null,[e("h1",{class:"text-4xl font-bold text-zinc-900"},"Audit Logs"),e("p",{class:"text-zinc-600 text-lg"},"System activity tracking and monitoring")],-1))])]),e("div",pe,[c(T,{searchQuery:s.value,"onUpdate:searchQuery":r[0]||(r[0]=_=>s.value=_),"filtered-count":o.value.length,"total-count":t.pagination.total},null,8,["searchQuery","filtered-count","total-count"]),c(X,{"filtered-logs":o.value},null,8,["filtered-logs"]),c(re,{pagination:t.pagination,onGoToPage:n},null,8,["pagination"])])])])],64))}};export{he as default};
