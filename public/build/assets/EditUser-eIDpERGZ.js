import{r as v,e as y,c as l,b as x,a as e,u as o,h as k,w as f,l as g,k as u,t as d,n as _,B as U,p as m,v as p,d as C,F as V,o as r}from"./app-BohDxjtS.js";const S={class:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},j={class:"bg-white border-b border-slate-200 shadow-sm"},B={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},E={class:"flex items-center gap-4"},N={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},M={class:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden","data-aos":"fade-up"},F={class:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-slate-200"},P={class:"flex items-center gap-4"},A={class:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold text-2xl shadow-lg"},T={class:"text-xl font-bold text-slate-900"},O={class:"text-sm text-slate-600"},q={class:"flex items-center gap-2 mt-2"},z={key:0,class:"px-2 py-1 text-xs font-bold rounded-full bg-red-100 text-red-800"},D={key:1,class:"px-2 py-1 text-xs font-bold rounded-full bg-emerald-100 text-emerald-800"},H={key:2,class:"px-2 py-1 text-xs font-bold rounded-full bg-slate-100 text-slate-700"},I={class:"text-xs text-slate-500"},$={key:0,class:"mt-1 text-sm text-red-600"},J={key:0,class:"mt-1 text-sm text-red-600"},L={class:"border-t border-slate-200 pt-6"},G={class:"flex items-center justify-between mb-4"},K={key:0,class:"space-y-4"},Q={key:0,class:"mt-1 text-sm text-red-600"},R={class:"flex items-center justify-between pt-6 border-t border-slate-200"},W=["disabled"],X={key:0},Y={key:1},Z={key:0,class:"mt-6 bg-white rounded-xl shadow-lg border border-slate-200 p-6","data-aos":"fade-up","data-aos-delay":"100"},ee={class:"flex items-center gap-3 mb-4"},te={class:"text-sm text-slate-600"},oe={__name:"EditUser",props:{editingUser:Object,isSuperAdmin:Boolean},setup(a){const b=a,n=v(!1),s=y({name:b.editingUser.name,email:b.editingUser.email,password:"",password_confirmation:""}),w=()=>{s.name,s.email,n.value&&s.password&&(s.password,s.password_confirmation),s.patch(`/admin/users/${b.editingUser.id}`,{preserveScroll:!0,onSuccess:()=>{s.reset("password","password_confirmation"),n.value=!1}})},h=c=>c?c.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"U";return(c,t)=>(r(),l(V,null,[x(o(k),{title:"Edit User"}),e("div",S,[e("div",j,[e("div",B,[e("div",E,[x(o(g),{href:"/admin/dashboard",class:"p-2 hover:bg-slate-100 rounded-lg transition-colors"},{default:f(()=>[...t[5]||(t[5]=[e("svg",{class:"w-6 h-6 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1}),t[6]||(t[6]=e("div",null,[e("h1",{class:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent"}," Edit User "),e("p",{class:"mt-1 text-slate-600"},"Update user account information")],-1))])])]),e("div",N,[e("div",M,[e("div",F,[e("div",P,[e("div",A,d(h(a.editingUser.name)),1),e("div",null,[e("h2",T,d(a.editingUser.name),1),e("p",O,d(a.editingUser.email),1),e("div",q,[a.editingUser.is_super_admin?(r(),l("span",z," Super Admin ")):a.editingUser.is_admin?(r(),l("span",D," Admin ")):(r(),l("span",H," User ")),e("span",I," Joined "+d(a.editingUser.created_at),1)])])])]),e("form",{onSubmit:_(w,["prevent"]),class:"p-6 space-y-6"},[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-semibold text-slate-700 mb-2"},"Full Name",-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>o(s).name=i),type:"text",required:"",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter full name"},null,512),[[p,o(s).name]]),o(s).errors.name?(r(),l("p",$,d(o(s).errors.name),1)):u("",!0)]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-semibold text-slate-700 mb-2"},"Email Address",-1)),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>o(s).email=i),type:"email",required:"",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter email address"},null,512),[[p,o(s).email]]),o(s).errors.email?(r(),l("p",J,d(o(s).errors.email),1)):u("",!0)]),e("div",L,[e("div",G,[t[9]||(t[9]=e("label",{class:"block text-sm font-semibold text-slate-700"},"Change Password",-1)),e("button",{type:"button",onClick:t[2]||(t[2]=i=>n.value=!n.value),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},d(n.value?"Cancel":"Change Password"),1)]),n.value?(r(),l("div",K,[e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"New Password",-1)),m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=i=>o(s).password=i),type:"password",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter new password (min 8 characters)"},null,512),[[p,o(s).password]]),o(s).errors.password?(r(),l("p",Q,d(o(s).errors.password),1)):u("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Confirm Password",-1)),m(e("input",{"onUpdate:modelValue":t[4]||(t[4]=i=>o(s).password_confirmation=i),type:"password",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Confirm new password"},null,512),[[p,o(s).password_confirmation]])])])):u("",!0)]),t[13]||(t[13]=U('<div class="bg-blue-50 border border-blue-200 rounded-lg p-4"><div class="flex items-start gap-3"><svg class="w-5 h-5 text-blue-600 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div class="flex-1"><h4 class="text-sm font-semibold text-blue-900 mb-1">Important Notes</h4><ul class="text-sm text-blue-700 space-y-1"><li>• Changes will be applied immediately</li><li>• This action will be logged in the audit system</li><li>• User will be notified of any email changes</li></ul></div></div></div>',1)),e("div",R,[x(o(g),{href:"/admin/dashboard",class:"px-6 py-3 text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-lg font-semibold transition-colors"},{default:f(()=>[...t[12]||(t[12]=[C(" Cancel ",-1)])]),_:1}),e("button",{type:"submit",disabled:o(s).processing,class:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"},[o(s).processing?(r(),l("span",X,"Saving...")):(r(),l("span",Y,"Save Changes"))],8,W)])],32)]),a.editingUser.orders_count>0?(r(),l("div",Z,[e("div",ee,[t[15]||(t[15]=e("svg",{class:"w-6 h-6 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1)),e("div",null,[t[14]||(t[14]=e("h3",{class:"text-lg font-bold text-slate-900"},"Order History",-1)),e("p",te,"This user has "+d(a.editingUser.orders_count)+" order(s)",1)])]),t[16]||(t[16]=e("div",{class:"bg-slate-50 rounded-lg p-4"},[e("p",{class:"text-sm text-slate-600"},"View detailed order history and management in the Orders section.")],-1))])):u("",!0)])])],64))}};export{oe as default};
