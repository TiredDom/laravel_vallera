import{c as i,o as a,a as e,r as p,j as S,b as n,u as r,h as q,w as T,d as y,l as E,t as o,p as $,v as F,q as Q,F as x,m as h,k as O,g as Z,s as _,x as Y,E as G}from"./app-CzJYfGiK.js";import{_ as H}from"./ConfirmModal-BkEiWXNy.js";import{r as J}from"./ArrowLeftIcon-DlZ8nMSU.js";import{r as j,b as M,a as U}from"./XMarkIcon-DpWH_tO6.js";import{r as z}from"./ClockIcon-DtgCH1XW.js";import{r as B}from"./TruckIcon-H5aNZ_Jc.js";import{r as K}from"./CreditCardIcon-CgV6Zced.js";function R(w,c){return a(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function W(w,c){return a(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}const X={class:"min-h-screen bg-gradient-to-br from-zinc-50 to-zinc-100"},ee={class:"bg-white shadow-lg border-b border-zinc-200 sticky top-0 z-40"},te={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},se={class:"flex justify-between items-center h-16"},le={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},oe={class:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8","data-aos":"fade-up","data-aos-delay":"100"},ne={class:"bg-white rounded-xl shadow-lg p-6 border-2 border-zinc-200"},re={class:"flex items-center justify-between mb-2"},ae={class:"text-2xl font-bold text-zinc-900"},de={class:"bg-white rounded-xl shadow-lg p-6 border-2 border-amber-200"},ie={class:"flex items-center justify-between mb-2"},ce={class:"text-2xl font-bold text-amber-600"},ue={class:"bg-white rounded-xl shadow-lg p-6 border-2 border-blue-200"},me={class:"flex items-center justify-between mb-2"},pe={class:"text-2xl font-bold text-blue-600"},xe={class:"bg-white rounded-xl shadow-lg p-6 border-2 border-emerald-200"},be={class:"flex items-center justify-between mb-2"},fe={class:"text-2xl font-bold text-emerald-600"},ge={class:"bg-white rounded-xl shadow-lg p-6 border-2 border-red-200"},ve={class:"flex items-center justify-between mb-2"},he={class:"text-2xl font-bold text-red-600"},_e={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 mb-6","data-aos":"fade-up","data-aos-delay":"200"},we={class:"p-6 border-b border-zinc-200"},ye={class:"flex flex-col md:flex-row gap-4"},ze={class:"flex-1"},ke={class:"md:w-64"},Ce=["value"],Se={class:"divide-y divide-zinc-200"},$e={key:0,class:"p-12 text-center"},Oe={class:"flex items-center justify-between mb-4"},je={class:"flex items-center gap-4"},Me={class:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500 to-emerald-600 flex items-center justify-center text-white font-bold shadow-lg"},Ue={class:"flex items-center gap-2 mb-1"},Be={class:"font-bold text-zinc-900"},Ve={class:"text-sm text-zinc-500"},De={class:"flex items-center gap-4"},Ne={class:"text-right"},Pe={class:"text-2xl font-bold text-primary-600"},Ae={class:"text-sm text-zinc-500"},Ie=["onClick"],Le={class:"flex flex-wrap items-center gap-3 mb-4"},qe={class:"text-sm text-zinc-500"},Te={key:0,class:"mt-4 pt-4 border-t border-zinc-200 space-y-4"},Ee={class:"space-y-2"},Fe={class:"font-semibold text-zinc-900"},Qe={class:"text-sm text-zinc-500"},Ze={class:"font-bold text-zinc-900"},Ye={class:"flex flex-wrap gap-2"},Ge=["onClick","disabled"],tt={__name:"Orders",props:{orders:Array},setup(w){const c=w,b=p("all"),f=p(""),u=p(null),g=p(!1),v=p({orderId:null,newStatus:""}),V=[{value:"all",label:"All Orders",color:"zinc"},{value:"pending",label:"Pending",color:"amber"},{value:"processing",label:"Processing",color:"blue"},{value:"completed",label:"Completed",color:"emerald"},{value:"cancelled",label:"Cancelled",color:"red"}],k=S(()=>{let l=c.orders;if(b.value!=="all"&&(l=l.filter(t=>t.status===b.value)),f.value){const t=f.value.toLowerCase();l=l.filter(s=>s.id.toString().includes(t)||s.user.name.toLowerCase().includes(t)||s.user.email.toLowerCase().includes(t))}return l}),m=S(()=>({total:c.orders.length,pending:c.orders.filter(l=>l.status==="pending").length,processing:c.orders.filter(l=>l.status==="processing").length,completed:c.orders.filter(l=>l.status==="completed").length,cancelled:c.orders.filter(l=>l.status==="cancelled").length}));function D(l,t){v.value={orderId:l,newStatus:t},g.value=!0}function N(){Z.patch(`/admin/orders/${v.value.orderId}/status`,{status:v.value.newStatus},{preserveScroll:!0,preserveState:!0,onSuccess:()=>{u.value=null,g.value=!1}})}function P(l){u.value=u.value===l?null:l}function A(l){return{pending:"bg-amber-50 text-amber-700 border-amber-200",processing:"bg-blue-50 text-blue-700 border-blue-200",completed:"bg-emerald-50 text-emerald-700 border-emerald-200",cancelled:"bg-red-50 text-red-700 border-red-200"}[l]||"bg-zinc-50 text-zinc-700 border-zinc-200"}function I(l){return{pending:z,processing:B,completed:M,cancelled:U}[l]||z}function L(l){return{gcash:"text-blue-600 bg-blue-50",card:"text-purple-600 bg-purple-50",bank:"text-emerald-600 bg-emerald-50"}[l]||"text-zinc-600 bg-zinc-100"}return(l,t)=>(a(),i(x,null,[n(r(q),{title:"Order Management"}),e("div",X,[e("nav",ee,[e("div",te,[e("div",se,[n(r(E),{href:l.route("admin.dashboard"),class:"flex items-center text-zinc-600 hover:text-primary-600 transition-colors font-medium"},{default:T(()=>[n(r(J),{class:"w-5 h-5 mr-2"}),t[3]||(t[3]=y(" Back to Dashboard ",-1))]),_:1},8,["href"]),t[4]||(t[4]=e("div",{class:"flex items-center gap-3"},[e("span",{class:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-emerald-600 bg-clip-text text-transparent"},"Order Management")],-1)),t[5]||(t[5]=e("div",{class:"w-32"},null,-1))])])]),e("main",le,[t[14]||(t[14]=e("div",{class:"mb-8","data-aos":"fade-up"},[e("h1",{class:"text-4xl font-bold text-zinc-900 mb-2"},"Orders"),e("p",{class:"text-zinc-600 text-lg"},"Manage and track all customer orders")],-1)),e("div",oe,[e("div",ne,[e("div",re,[n(r(j),{class:"w-8 h-8 text-zinc-500"}),e("span",ae,o(m.value.total),1)]),t[6]||(t[6]=e("p",{class:"text-sm font-medium text-zinc-600"},"Total Orders",-1))]),e("div",de,[e("div",ie,[n(r(z),{class:"w-8 h-8 text-amber-600"}),e("span",ce,o(m.value.pending),1)]),t[7]||(t[7]=e("p",{class:"text-sm font-medium text-zinc-600"},"Pending",-1))]),e("div",ue,[e("div",me,[n(r(B),{class:"w-8 h-8 text-blue-600"}),e("span",pe,o(m.value.processing),1)]),t[8]||(t[8]=e("p",{class:"text-sm font-medium text-zinc-600"},"Processing",-1))]),e("div",xe,[e("div",be,[n(r(M),{class:"w-8 h-8 text-emerald-600"}),e("span",fe,o(m.value.completed),1)]),t[9]||(t[9]=e("p",{class:"text-sm font-medium text-zinc-600"},"Completed",-1))]),e("div",ge,[e("div",ve,[n(r(U),{class:"w-8 h-8 text-red-600"}),e("span",he,o(m.value.cancelled),1)]),t[10]||(t[10]=e("p",{class:"text-sm font-medium text-zinc-600"},"Cancelled",-1))])]),e("div",_e,[e("div",we,[e("div",ye,[e("div",ze,[$(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>f.value=s),type:"text",placeholder:"Search by order ID, customer name, or email...",class:"w-full px-4 py-3 rounded-xl border-2 border-zinc-200 focus:border-primary-500 focus:ring focus:ring-primary-200 transition-all"},null,512),[[F,f.value]])]),e("div",ke,[$(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>b.value=s),class:"w-full px-4 py-3 rounded-xl border-2 border-zinc-200 focus:border-primary-500 focus:ring focus:ring-primary-200 transition-all font-medium"},[(a(),i(x,null,h(V,s=>e("option",{key:s.value,value:s.value},o(s.label),9,Ce)),64))],512),[[Q,b.value]])])])]),e("div",Se,[k.value.length===0?(a(),i("div",$e,[n(r(j),{class:"w-16 h-16 text-zinc-300 mx-auto mb-4"}),t[11]||(t[11]=e("p",{class:"text-xl font-semibold text-zinc-400"},"No orders found",-1))])):O("",!0),(a(!0),i(x,null,h(k.value,s=>(a(),i("div",{key:s.id,class:"p-6 hover:bg-zinc-50 transition-colors"},[e("div",Oe,[e("div",je,[e("div",Me," #"+o(s.id),1),e("div",null,[e("div",Ue,[n(r(W),{class:"w-4 h-4 text-zinc-400"}),e("span",Be,o(s.user.name),1)]),e("p",Ve,o(s.user.email),1)])]),e("div",De,[e("div",Ne,[e("p",Pe,"₱"+o(s.total),1),e("p",Ae,o(s.items_count)+" items",1)]),e("button",{onClick:d=>P(s.id),class:"p-2 hover:bg-zinc-200 rounded-lg transition-colors"},[n(r(R),{class:_(["w-5 h-5 text-zinc-600 transition-transform",{"rotate-180":u.value===s.id}])},null,8,["class"])],8,Ie)])]),e("div",Le,[e("div",{class:_(["inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-bold border",A(s.status)])},[(a(),Y(G(I(s.status)),{class:"w-4 h-4"})),y(" "+o(s.status),1)],2),e("div",{class:_(["inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-semibold",L(s.payment_method)])},[n(r(K),{class:"w-4 h-4"}),y(" "+o(s.payment_method),1)],2),e("span",qe,o(s.created_at),1)]),u.value===s.id?(a(),i("div",Te,[e("div",null,[t[12]||(t[12]=e("h4",{class:"font-bold text-zinc-900 mb-3"},"Order Items",-1)),e("div",Ee,[(a(!0),i(x,null,h(s.items,(d,C)=>(a(),i("div",{key:C,class:"flex items-center justify-between p-3 bg-zinc-50 rounded-lg"},[e("div",null,[e("p",Fe,o(d.product_name),1),e("p",Qe,"Quantity: "+o(d.quantity),1)]),e("p",Ze,"₱"+o(d.price),1)]))),128))])]),e("div",null,[t[13]||(t[13]=e("h4",{class:"font-bold text-zinc-900 mb-3"},"Update Status",-1)),e("div",Ye,[(a(),i(x,null,h(["pending","processing","completed","cancelled"],d=>e("button",{key:d,onClick:C=>D(s.id,d),disabled:s.status===d,class:_(["px-4 py-2 rounded-lg font-bold transition-all",s.status===d?"bg-zinc-200 text-zinc-400 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 hover:scale-105"])},o(d.charAt(0).toUpperCase()+d.slice(1)),11,Ge)),64))])])])):O("",!0)]))),128))])])]),n(H,{show:g.value,title:"Update Order Status",message:`Change order status to ${v.value.newStatus}?`,"confirm-text":"Yes, Update","cancel-text":"Cancel",type:"primary",onClose:t[2]||(t[2]=s=>g.value=!1),onConfirm:N},null,8,["show","message"])])],64))}};export{tt as default};
