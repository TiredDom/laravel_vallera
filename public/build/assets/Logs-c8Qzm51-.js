import{c as n,a as e,o as r,r as w,j as y,b as d,u as l,h as z,w as k,d as g,l as C,k as c,p as L,v as j,t as i,F as p,m as f,g as $,s as v}from"./app-CzJYfGiK.js";import{r as A}from"./ArrowLeftIcon-DlZ8nMSU.js";import{r as N}from"./ShieldCheckIcon-FxtiVZHP.js";import{r as h}from"./ClockIcon-DtgCH1XW.js";function S(o,u){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function B(o,u){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}const M={class:"min-h-screen bg-gradient-to-br from-zinc-50 to-zinc-100"},V={class:"bg-white shadow-lg border-b border-zinc-200 sticky top-0 z-40"},D={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},P={class:"flex justify-between items-center h-16"},U={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},T={class:"mb-8","data-aos":"fade-up"},E={class:"flex items-center gap-3 mb-4"},F={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 mb-6","data-aos":"fade-up","data-aos-delay":"100"},I={class:"p-6 border-b border-zinc-200"},q={class:"flex items-center justify-between mb-4"},O={class:"flex items-center gap-2 text-sm text-zinc-600"},Q={class:"divide-y divide-zinc-200"},R={key:0,class:"p-12 text-center"},G={class:"flex items-start gap-4"},H={class:"flex-shrink-0 w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-white font-bold shadow-lg"},J={class:"flex-1"},K={class:"flex items-start justify-between mb-2"},W={class:"flex items-center gap-2 mb-1"},X={class:"font-bold text-zinc-900"},Y={class:"text-sm text-zinc-500"},Z={class:"text-right"},ee={class:"flex items-center gap-1.5 text-sm text-zinc-500"},te={key:0,class:"text-xs text-zinc-400 mt-1"},se={class:"bg-zinc-50 rounded-lg p-4 border border-zinc-200"},oe={class:"text-sm text-zinc-700 font-medium"},ne={key:0,class:"flex items-center gap-2 mt-2 text-xs text-zinc-500"},re={class:"px-2 py-1 bg-white rounded border border-zinc-200"},ie={key:0,class:"px-6 py-4 border-t border-zinc-200 bg-zinc-50"},ae={class:"flex items-center justify-between"},de=["disabled"],le={class:"flex items-center gap-2"},ce=["onClick"],ue={key:1,class:"text-zinc-400"},xe=["disabled"],fe={__name:"Logs",props:{logs:Array,pagination:Object},setup(o){const u=o,x=w(""),m=y(()=>{if(!x.value)return u.logs;const a=x.value.toLowerCase();return u.logs.filter(t=>t.user.name.toLowerCase().includes(a)||t.user.email.toLowerCase().includes(a)||t.action.toLowerCase().includes(a)||t.description.toLowerCase().includes(a))});function b(a){$.get(`/admin/logs?page=${a}`,{},{preserveScroll:!0,preserveState:!0})}function _(a){return{promote_user:"bg-emerald-100 text-emerald-700",demote_user:"bg-red-100 text-red-700",update_order_status:"bg-blue-100 text-blue-700",create_order:"bg-purple-100 text-purple-700",cancel_order:"bg-amber-100 text-amber-700"}[a]||"bg-zinc-100 text-zinc-700"}return(a,t)=>(r(),n(p,null,[d(l(z),{title:"Audit Logs"}),e("div",M,[e("nav",V,[e("div",D,[e("div",P,[d(l(C),{href:a.route("admin.dashboard"),class:"flex items-center text-zinc-600 hover:text-primary-600 transition-colors font-medium"},{default:k(()=>[d(l(A),{class:"w-5 h-5 mr-2"}),t[3]||(t[3]=g(" Back to Dashboard ",-1))]),_:1},8,["href"]),t[4]||(t[4]=e("div",{class:"flex items-center gap-3"},[e("span",{class:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-emerald-600 bg-clip-text text-transparent"},"Audit Logs"),e("span",{class:"px-3 py-1 bg-gradient-to-r from-red-600 to-red-700 text-white text-xs font-bold rounded-full shadow-lg"},"SUPER ADMIN")],-1)),t[5]||(t[5]=e("div",{class:"w-32"},null,-1))])])]),e("main",U,[e("div",T,[e("div",E,[d(l(N),{class:"w-10 h-10 text-primary-600"}),t[6]||(t[6]=e("div",null,[e("h1",{class:"text-4xl font-bold text-zinc-900"},"Audit Logs"),e("p",{class:"text-zinc-600 text-lg"},"System activity tracking and monitoring")],-1))])]),e("div",F,[e("div",I,[e("div",q,[L(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>x.value=s),type:"text",placeholder:"Search logs by user, action, or description...",class:"flex-1 px-4 py-3 rounded-xl border-2 border-zinc-200 focus:border-primary-500 focus:ring focus:ring-primary-200 transition-all"},null,512),[[j,x.value]])]),e("div",O,[d(l(h),{class:"w-4 h-4"}),e("span",null,"Showing "+i(m.value.length)+" of "+i(o.pagination.total)+" total logs",1)])]),e("div",Q,[m.value.length===0?(r(),n("div",R,[d(l(h),{class:"w-16 h-16 text-zinc-300 mx-auto mb-4"}),t[7]||(t[7]=e("p",{class:"text-xl font-semibold text-zinc-400"},"No logs found",-1))])):c("",!0),(r(!0),n(p,null,f(m.value,s=>(r(),n("div",{key:s.id,class:"p-6 hover:bg-zinc-50 transition-colors"},[e("div",G,[e("div",H,i(s.user.name.charAt(0).toUpperCase()),1),e("div",J,[e("div",K,[e("div",null,[e("div",W,[e("span",X,i(s.user.name),1),e("span",{class:v(["px-2 py-0.5 rounded-full text-xs font-bold",_(s.action)])},i(s.action.replace(/_/g," ").toUpperCase()),3)]),e("p",Y,i(s.user.email),1)]),e("div",Z,[e("div",ee,[d(l(h),{class:"w-4 h-4"}),e("span",null,i(s.created_at),1)]),s.ip_address?(r(),n("div",te," IP: "+i(s.ip_address),1)):c("",!0)])]),e("div",se,[e("p",oe,i(s.description),1),s.model_type?(r(),n("div",ne,[e("span",re,i(s.model_type)+" #"+i(s.model_id),1)])):c("",!0)])])])]))),128))]),o.pagination.last_page>1?(r(),n("div",ie,[e("div",ae,[e("button",{onClick:t[1]||(t[1]=s=>b(o.pagination.current_page-1)),disabled:o.pagination.current_page===1,class:"flex items-center gap-2 px-4 py-2 rounded-lg font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed bg-white border-2 border-zinc-200 text-zinc-700 hover:bg-zinc-100"},[d(l(S),{class:"w-4 h-4"}),t[8]||(t[8]=g(" Previous ",-1))],8,de),e("div",le,[(r(!0),n(p,null,f(o.pagination.last_page,s=>(r(),n(p,{key:s},[Math.abs(s-o.pagination.current_page)<3||s===1||s===o.pagination.last_page?(r(),n("button",{key:0,onClick:pe=>b(s),class:v(["w-10 h-10 rounded-lg font-bold transition-all",s===o.pagination.current_page?"bg-gradient-to-r from-primary-600 to-emerald-600 text-white shadow-lg":"bg-white border-2 border-zinc-200 text-zinc-700 hover:bg-zinc-100"])},i(s),11,ce)):Math.abs(s-o.pagination.current_page)===3?(r(),n("span",ue,"...")):c("",!0)],64))),128))]),e("button",{onClick:t[2]||(t[2]=s=>b(o.pagination.current_page+1)),disabled:o.pagination.current_page===o.pagination.last_page,class:"flex items-center gap-2 px-4 py-2 rounded-lg font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed bg-white border-2 border-zinc-200 text-zinc-700 hover:bg-zinc-100"},[t[9]||(t[9]=g(" Next ",-1)),d(l(B),{class:"w-4 h-4"})],8,xe)])])):c("",!0)])])])],64))}};export{fe as default};
