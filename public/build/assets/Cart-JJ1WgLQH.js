import{a as R,_ as G}from"./MainLayout-Bhw_btLc.js";import{_ as J}from"./ProductCard-BiadIuH5.js";import{_ as W}from"./ProductDetailModal-CoOv3fbl.js";import{_ as Z}from"./ToastNotification-zhCFvXCj.js";import{c as n,a as e,o as r,r as w,x as L,b as p,w as B,k as c,u as v,s as S,p as b,v as f,t as d,F as q,m as E,E as Q,q as K,T as ee,I as te,g as A,z as se,j,A as Y,h as le,d as D,l as F}from"./app-1fqXujMG.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as ae,r as X}from"./XMarkIcon-m0keOtap.js";import{r as H}from"./TruckIcon-DAB_pMzM.js";import{r as re}from"./ArrowLeftIcon-DPi7cCU-.js";import{r as ne}from"./CreditCardIcon-DtTK3_k2.js";import{r as ie}from"./SparklesIcon-CteCLXEm.js";import{r as de}from"./ShieldCheckIcon-BiRxmvSo.js";import"./EyeIcon-ZKxm0RWE.js";import"./transition-6Q23P1Ak.js";function ue(x,g){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"})])}function ce(x,g){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})])}function me(x,g){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})])}function pe(x,g){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function ve(x,g){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}const xe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},be={class:"flex min-h-full items-center justify-center p-4"},fe={class:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden"},ge={class:"p-8"},he={class:"flex items-center justify-center mb-8"},ye={class:"flex items-center"},we={class:"flex items-center"},ke={class:"flex items-center"},_e={key:0,class:"space-y-6"},$e={class:"flex items-center gap-3 mb-6"},Ce={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ne={key:0,class:"text-red-600 text-sm mt-1"},ze={key:0,class:"text-red-600 text-sm mt-1"},Se={key:0,class:"text-red-600 text-sm mt-1"},Pe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ve={key:0,class:"text-red-600 text-sm mt-1"},Me={key:0,class:"text-red-600 text-sm mt-1"},je={key:0,class:"text-red-600 text-sm mt-1"},De={class:"bg-slate-50 p-4 rounded-lg"},Be={class:"flex justify-between text-sm mb-2"},qe={class:"font-semibold"},Ae={class:"flex justify-between text-sm mb-3"},Le={class:"font-semibold"},Ue={class:"flex justify-between text-lg font-bold border-t border-slate-200 pt-3"},Ie={class:"text-primary-600"},Te={key:1,class:"space-y-6"},Oe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ye=["onClick"],Xe={class:"font-bold text-slate-900 mb-1"},Ee={class:"text-xs text-slate-600"},Fe={key:0,class:"space-y-4 bg-slate-50 p-6 rounded-lg"},He={key:0,class:"text-red-600 text-sm mt-1"},Re={key:0,class:"text-red-600 text-sm mt-1"},Ge={key:1,class:"space-y-4 bg-slate-50 p-6 rounded-lg"},Je=["value"],We={key:0,class:"text-red-600 text-sm mt-1"},Ze={key:0,class:"text-red-600 text-sm mt-1"},Qe={class:"grid grid-cols-2 gap-4"},Ke=["value"],et={key:0,class:"text-red-600 text-sm mt-1"},tt={key:0,class:"text-red-600 text-sm mt-1"},st={key:2,class:"space-y-4 bg-slate-50 p-6 rounded-lg"},lt={key:0,class:"text-red-600 text-sm mt-1"},ot={key:0,class:"text-red-600 text-sm mt-1"},at={key:0,class:"text-red-600 text-sm mt-1"},rt={class:"bg-slate-50 p-4 rounded-lg"},nt={class:"flex justify-between text-lg font-bold"},it={class:"text-primary-600"},dt=["disabled"],ut={__name:"CheckoutModal",props:{show:Boolean,total:Number,subtotal:{type:Number,default:0},shipping:{type:Number,default:500}},emits:["close","success"],setup(x,{emit:g}){const h=g,y=w(1),m=w(""),k=w(!1),i=w({name:"",phone:"",address:"",city:"",province:"",postalCode:"",notes:""}),a=w({gcash:{phone:"",pin:""},card:{cardNumber:"",cardName:"",expiryDate:"",cvv:""},bank:{bankName:"",accountNumber:"",accountName:""}}),o=w({}),$=[{id:"gcash",name:"GCash",icon:ce,description:"Mobile wallet payment"},{id:"card",name:"Credit/Debit Card",icon:ne,description:"Visa, Mastercard, AmEx"},{id:"bank",name:"Bank Transfer",icon:ue,description:"Direct bank transfer"}];function U(){return o.value={},(!i.value.name||i.value.name.trim().length<2)&&(o.value.name="Full name is required (minimum 2 characters)"),(!i.value.phone||!/^(09|\+639)\d{9}$/.test(i.value.phone.replace(/\s/g,"")))&&(o.value.phone="Valid Philippine mobile number required (09XXXXXXXXX)"),(!i.value.address||i.value.address.trim().length<10)&&(o.value.address="Complete address is required (minimum 10 characters)"),(!i.value.city||i.value.city.trim().length<2)&&(o.value.city="City is required"),(!i.value.province||i.value.province.trim().length<2)&&(o.value.province="Province is required"),(!i.value.postalCode||!/^\d{4}$/.test(i.value.postalCode))&&(o.value.postalCode="Valid 4-digit postal code required"),Object.keys(o.value).length===0}function I(){U()&&(y.value=2,o.value={})}function T(_){m.value=_,o.value={}}function C(){return o.value={},m.value?(m.value==="gcash"?((!a.value.gcash.phone||!/^(09|\+639)\d{9}$/.test(a.value.gcash.phone.replace(/\s/g,"")))&&(o.value.gcashPhone="Valid GCash number required"),(!a.value.gcash.pin||a.value.gcash.pin.length!==4)&&(o.value.gcashPin="Valid 4-digit PIN required")):m.value==="card"?((!a.value.card.cardNumber||!/^\d{16}$/.test(a.value.card.cardNumber.replace(/\s/g,"")))&&(o.value.cardNumber="Valid 16-digit card number required"),(!a.value.card.cardName||a.value.card.cardName.trim().length<3)&&(o.value.cardName="Cardholder name required"),(!a.value.card.expiryDate||!/^(0[1-9]|1[0-2])\/\d{2}$/.test(a.value.card.expiryDate))&&(o.value.expiryDate="Valid expiry date required (MM/YY)"),(!a.value.card.cvv||!/^\d{3,4}$/.test(a.value.card.cvv))&&(o.value.cvv="Valid CVV required (3-4 digits)")):m.value==="bank"&&(a.value.bank.bankName||(o.value.bankName="Bank name required"),(!a.value.bank.accountNumber||a.value.bank.accountNumber.length<10)&&(o.value.accountNumber="Valid account number required"),(!a.value.bank.accountName||a.value.bank.accountName.trim().length<3)&&(o.value.accountName="Account holder name required")),Object.keys(o.value).length===0):(o.value.method="Please select a payment method",!1)}function N(){C()&&(k.value=!0,A.post("/cart/checkout",{payment_method:m.value,payment_data:a.value[m.value],delivery:i.value},{onSuccess:()=>{h("success"),h("close"),z()},onError:_=>{k.value=!1,_.error&&alert(_.error)},onFinish:()=>{k.value=!1}}))}function z(){y.value=1,m.value="",i.value={name:"",phone:"",address:"",city:"",province:"",postalCode:"",notes:""},a.value={gcash:{phone:"",pin:""},card:{cardNumber:"",cardName:"",expiryDate:"",cvv:""},bank:{bankName:"",accountNumber:"",accountName:""}},o.value={},k.value=!1}function P(){h("close"),setTimeout(z,300)}function V(_){let t=_.target.value.replace(/\s/g,""),s=t.match(/.{1,4}/g)?.join(" ")||t;a.value.card.cardNumber=s}function O(_){let t=_.target.value.replace(/\D/g,"");t.length>=2&&(t=t.slice(0,2)+"/"+t.slice(2,4)),a.value.card.expiryDate=t}return(_,t)=>(r(),L(te,{to:"body"},[p(ee,{name:"modal"},{default:B(()=>[x.show?(r(),n("div",xe,[e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:P}),e("div",be,[e("div",fe,[e("button",{onClick:P,class:"absolute top-4 right-4 z-10 p-2 hover:bg-slate-100 rounded-full transition-colors"},[p(v(ae),{class:"w-6 h-6 text-slate-600"})]),e("div",ge,[e("div",he,[e("div",ye,[e("div",we,[e("div",{class:S(["w-10 h-10 rounded-full flex items-center justify-center font-bold",y.value>=1?"bg-primary-600 text-white":"bg-slate-200 text-slate-500"])}," 1 ",2),t[15]||(t[15]=e("span",{class:"ml-2 text-sm font-medium text-slate-700"},"Delivery",-1))]),e("div",{class:S(["w-24 h-1 mx-4",y.value>=2?"bg-primary-600":"bg-slate-200"])},null,2),e("div",ke,[e("div",{class:S(["w-10 h-10 rounded-full flex items-center justify-center font-bold",y.value>=2?"bg-primary-600 text-white":"bg-slate-200 text-slate-500"])}," 2 ",2),t[16]||(t[16]=e("span",{class:"ml-2 text-sm font-medium text-slate-700"},"Payment",-1))])])]),y.value===1?(r(),n("div",_e,[e("div",$e,[p(v(H),{class:"w-8 h-8 text-primary-600"}),t[17]||(t[17]=e("h2",{class:"text-2xl font-bold text-slate-900"},"Delivery Information",-1))]),e("div",Ce,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Full Name *",-1)),b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.value.name=s),type:"text",placeholder:"Juan Dela Cruz",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[f,i.value.name]]),o.value.name?(r(),n("p",Ne,d(o.value.name),1)):c("",!0)]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Mobile Number *",-1)),b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.value.phone=s),type:"tel",placeholder:"09123456789",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[f,i.value.phone]]),o.value.phone?(r(),n("p",ze,d(o.value.phone),1)):c("",!0)])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Complete Address *",-1)),b(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.value.address=s),rows:"3",placeholder:"House No., Street, Barangay",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[f,i.value.address]]),o.value.address?(r(),n("p",Se,d(o.value.address),1)):c("",!0)]),e("div",Pe,[e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"City *",-1)),b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>i.value.city=s),type:"text",placeholder:"Manila",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[f,i.value.city]]),o.value.city?(r(),n("p",Ve,d(o.value.city),1)):c("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Province *",-1)),b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>i.value.province=s),type:"text",placeholder:"Metro Manila",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[f,i.value.province]]),o.value.province?(r(),n("p",Me,d(o.value.province),1)):c("",!0)]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Postal Code *",-1)),b(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>i.value.postalCode=s),type:"text",maxlength:"4",placeholder:"1000",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[f,i.value.postalCode]]),o.value.postalCode?(r(),n("p",je,d(o.value.postalCode),1)):c("",!0)])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Delivery Notes (Optional)",-1)),b(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=s=>i.value.notes=s),rows:"2",placeholder:"Special instructions, landmarks, etc.",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[f,i.value.notes]])]),e("div",De,[e("div",Be,[t[25]||(t[25]=e("span",{class:"text-slate-600"},"Subtotal:",-1)),e("span",qe,"₱"+d(x.subtotal.toLocaleString()),1)]),e("div",Ae,[t[26]||(t[26]=e("span",{class:"text-slate-600"},"Shipping:",-1)),e("span",Le,"₱"+d(x.shipping.toLocaleString()),1)]),e("div",Ue,[t[27]||(t[27]=e("span",null,"Total:",-1)),e("span",Ie,"₱"+d(x.total.toLocaleString()),1)])]),e("button",{onClick:I,class:"w-full py-4 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-colors"}," Continue to Payment ")])):c("",!0),y.value===2?(r(),n("div",Te,[e("button",{onClick:t[7]||(t[7]=s=>y.value=1),class:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4"},[p(v(re),{class:"w-5 h-5"}),t[28]||(t[28]=e("span",{class:"text-sm font-medium"},"Back to Delivery",-1))]),t[40]||(t[40]=e("h2",{class:"text-2xl font-bold text-slate-900 mb-6"},"Select Payment Method",-1)),e("div",Oe,[(r(),n(q,null,E($,s=>e("button",{key:s.id,onClick:l=>T(s.id),class:S(["p-6 border-2 rounded-xl transition-all hover:border-primary-300 hover:shadow-md",m.value===s.id?"border-primary-600 bg-primary-50":"border-slate-200"])},[(r(),L(Q(s.icon),{class:S(["w-12 h-12 mx-auto mb-3",m.value===s.id?"text-primary-600":"text-slate-400"])},null,8,["class"])),e("h3",Xe,d(s.name),1),e("p",Ee,d(s.description),1)],10,Ye)),64))]),m.value==="gcash"?(r(),n("div",Fe,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"GCash Number *",-1)),b(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>a.value.gcash.phone=s),type:"tel",placeholder:"09123456789",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[f,a.value.gcash.phone]]),o.value.gcashPhone?(r(),n("p",He,d(o.value.gcashPhone),1)):c("",!0)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"PIN *",-1)),b(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>a.value.gcash.pin=s),type:"password",maxlength:"4",placeholder:"••••",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[f,a.value.gcash.pin]]),o.value.gcashPin?(r(),n("p",Re,d(o.value.gcashPin),1)):c("",!0)])])):c("",!0),m.value==="card"?(r(),n("div",Ge,[e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Card Number *",-1)),e("input",{value:a.value.card.cardNumber,onInput:V,type:"text",maxlength:"19",placeholder:"1234 5678 9012 3456",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,40,Je),o.value.cardNumber?(r(),n("p",We,d(o.value.cardNumber),1)):c("",!0)]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Cardholder Name *",-1)),b(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>a.value.card.cardName=s),type:"text",placeholder:"JUAN DELA CRUZ",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[f,a.value.card.cardName]]),o.value.cardName?(r(),n("p",Ze,d(o.value.cardName),1)):c("",!0)]),e("div",Qe,[e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Expiry Date *",-1)),e("input",{value:a.value.card.expiryDate,onInput:O,type:"text",maxlength:"5",placeholder:"MM/YY",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,40,Ke),o.value.expiryDate?(r(),n("p",et,d(o.value.expiryDate),1)):c("",!0)]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"CVV *",-1)),b(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>a.value.card.cvv=s),type:"password",maxlength:"4",placeholder:"•••",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[f,a.value.card.cvv]]),o.value.cvv?(r(),n("p",tt,d(o.value.cvv),1)):c("",!0)])])])):c("",!0),m.value==="bank"?(r(),n("div",st,[e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Bank Name *",-1)),b(e("select",{"onUpdate:modelValue":t[12]||(t[12]=s=>a.value.bank.bankName=s),class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},[...t[35]||(t[35]=[e("option",{value:""},"Select Bank",-1),e("option",{value:"BDO"},"BDO",-1),e("option",{value:"BPI"},"BPI",-1),e("option",{value:"Metrobank"},"Metrobank",-1),e("option",{value:"Unionbank"},"Unionbank",-1),e("option",{value:"Landbank"},"Landbank",-1)])],512),[[K,a.value.bank.bankName]]),o.value.bankName?(r(),n("p",lt,d(o.value.bankName),1)):c("",!0)]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Account Number *",-1)),b(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>a.value.bank.accountNumber=s),type:"text",placeholder:"1234567890",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[f,a.value.bank.accountNumber]]),o.value.accountNumber?(r(),n("p",ot,d(o.value.accountNumber),1)):c("",!0)]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Account Holder Name *",-1)),b(e("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>a.value.bank.accountName=s),type:"text",placeholder:"Juan Dela Cruz",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[f,a.value.bank.accountName]]),o.value.accountName?(r(),n("p",at,d(o.value.accountName),1)):c("",!0)])])):c("",!0),e("div",rt,[e("div",nt,[t[39]||(t[39]=e("span",null,"Total to Pay:",-1)),e("span",it,"₱"+d(x.total.toLocaleString()),1)])]),e("button",{onClick:N,disabled:k.value||!m.value,class:"w-full py-4 bg-primary-600 hover:bg-primary-700 disabled:bg-slate-300 text-white font-bold rounded-lg transition-colors disabled:cursor-not-allowed"},d(k.value?"Processing...":"Complete Order"),9,dt)])):c("",!0)])])])])):c("",!0)]),_:1})]))}},ct=oe(ut,[["__scopeId","data-v-e740ccce"]]),mt={class:"relative bg-gradient-to-br from-primary-600 via-emerald-700 to-emerald-800 text-white overflow-hidden"},pt={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-16 relative"},vt={class:"max-w-4xl mx-auto text-center","data-aos":"fade-up"},xt={class:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full mb-4"},bt={class:"text-sm font-medium"},ft={class:"bg-zinc-50 min-h-screen"},gt={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-12"},ht={key:0,class:"max-w-2xl mx-auto text-center py-24 bg-white rounded-2xl shadow-lg","data-aos":"fade-up"},yt={class:"mx-auto w-24 h-24 bg-gradient-to-br from-primary-100 to-emerald-100 rounded-full flex items-center justify-center mb-6"},wt={key:1,class:"max-w-2xl mx-auto text-center py-24 bg-white rounded-2xl shadow-lg","data-aos":"fade-up"},kt={class:"mx-auto w-24 h-24 bg-gradient-to-br from-zinc-100 to-zinc-200 rounded-full flex items-center justify-center mb-6"},_t={key:2,class:"grid grid-cols-1 lg:grid-cols-3 gap-8","data-aos":"fade-up"},$t={class:"lg:col-span-2 space-y-4"},Ct={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 overflow-hidden"},Nt={role:"list",class:"divide-y divide-zinc-200"},zt={class:"flex gap-6"},St={class:"flex-1 flex flex-col justify-between"},Pt={class:"flex justify-between"},Vt={class:"text-lg font-bold text-zinc-900 mb-1"},Mt={class:"text-sm text-zinc-500 uppercase tracking-wider"},jt={class:"text-xl font-bold text-primary-600 ml-4"},Dt={class:"text-sm text-zinc-600 mt-2"},Bt={class:"flex items-center justify-between mt-4"},qt={class:"flex items-center gap-3 bg-zinc-100 rounded-xl p-1"},At=["onClick","disabled"],Lt={class:"min-w-[60px] text-center font-bold text-zinc-900"},Ut=["onClick"],It=["onClick"],Tt={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 p-6"},Ot={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Yt={class:"flex items-center gap-3 p-4 bg-blue-50 rounded-xl border border-blue-100"},Xt={class:"flex-shrink-0 w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center"},Et={class:"flex items-center gap-3 p-4 bg-emerald-50 rounded-xl border border-emerald-100"},Ft={class:"flex-shrink-0 w-10 h-10 bg-emerald-600 rounded-lg flex items-center justify-center"},Ht={class:"lg:col-span-1"},Rt={class:"sticky top-24 space-y-4"},Gt={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 p-6"},Jt={class:"space-y-4"},Wt={class:"flex items-center justify-between text-zinc-600"},Zt={class:"font-semibold text-zinc-900"},Qt={class:"flex items-center justify-between text-zinc-600"},Kt={class:"font-semibold text-emerald-600"},es={class:"border-t-2 border-zinc-200 pt-4"},ts={class:"flex items-center justify-between"},ss={class:"text-2xl font-bold text-primary-600"},ls={key:0,class:"bg-white py-16"},os={class:"container mx-auto px-4 sm:px-6 lg:px-8"},as={class:"grid grid-cols-2 md:grid-cols-4 gap-6"},ws={__name:"Cart",props:{suggestedProducts:Array},setup(x){const g=se(),h=w(g.props.cartItems||[]),y=j(()=>!!g.props.auth?.user),m=w(!1),k=w(!1),i=w(!1),a=w(null),o=w({show:!1,message:"",type:"success"});Y(()=>g.props.cartItems,s=>{h.value=s||[]}),Y(()=>g.props.flash?.success,s=>{s&&$(s,"success")}),Y(()=>g.props.flash?.error,s=>{s&&$(s,"error")});function $(s,l="success"){o.value={show:!0,message:s,type:l}}function U(){o.value.show=!1}function I(s){$(s,"success")}function T(s){a.value=s,i.value=!0}const C=j(()=>h.value.reduce((s,l)=>s+l.price*l.quantity,0)),N=j(()=>h.value.length?500:0),z=j(()=>C.value+N.value);function P(s){A.delete(`/cart/${s}`,{preserveScroll:!0})}function V(s,l){A.patch(`/cart/${s}`,{quantity:l},{preserveScroll:!0})}function O(){if(!y.value){m.value=!0;return}if(h.value.length===0){$("Your cart is empty","error");return}k.value=!0}function _(){$("Order placed successfully! Redirecting to your orders...","success"),k.value=!1}function t(s){if(!y.value){m.value=!0;return}A.post("/cart",s,{preserveScroll:!0})}return(s,l)=>(r(),n(q,null,[p(v(le),{title:"Your Cart"}),p(G,null,{default:B(()=>[p(Z,{show:o.value.show,message:o.value.message,type:o.value.type,onClose:U},null,8,["show","message","type"]),e("div",mt,[l[6]||(l[6]=e("div",{class:"absolute inset-0 bg-[url('/grid.svg')] opacity-10"},null,-1)),e("div",pt,[e("div",vt,[e("div",xt,[p(v(X),{class:"w-4 h-4"}),e("span",bt,d(h.value.length)+" "+d(h.value.length===1?"Item":"Items"),1)]),l[4]||(l[4]=e("h1",{class:"text-4xl md:text-5xl font-bold tracking-tight mb-4"}," Your Shopping Cart ",-1)),l[5]||(l[5]=e("p",{class:"text-lg text-emerald-100"}," Review your items and proceed to secure checkout ",-1))])])]),e("div",ft,[e("div",gt,[y.value?h.value.length?(r(),n("div",_t,[e("div",$t,[e("div",Ct,[l[15]||(l[15]=e("div",{class:"bg-gradient-to-r from-zinc-50 to-white px-6 py-4 border-b border-zinc-200"},[e("h2",{class:"text-xl font-bold text-zinc-900"},"Cart Items")],-1)),e("ul",Nt,[(r(!0),n(q,null,E(h.value,u=>(r(),n("li",{key:u.product_id||u.id,class:"p-6 hover:bg-zinc-50 transition-colors group"},[e("div",zt,[l[14]||(l[14]=e("div",{class:"flex-shrink-0 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-zinc-100 to-zinc-200 rounded-xl flex items-center justify-center shadow-sm group-hover:shadow-md transition-shadow"},[e("span",{class:"text-zinc-400 text-sm font-medium"},"Image")],-1)),e("div",St,[e("div",null,[e("div",Pt,[e("div",null,[e("h3",Vt,d(u.name),1),e("p",Mt,d(u.category),1)]),e("p",jt,"₱"+d((u.price*u.quantity).toLocaleString()),1)]),e("p",Dt,"₱"+d(u.price.toLocaleString())+" each",1)]),e("div",Bt,[e("div",qt,[e("button",{onClick:M=>V(u.product_id||u.id,u.quantity-1),disabled:u.quantity<=1,class:"w-10 h-10 rounded-lg bg-white hover:bg-primary-600 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:text-zinc-900 transition-all flex items-center justify-center shadow-sm"},[p(v(me),{class:"w-4 h-4"})],8,At),e("span",Lt,d(u.quantity),1),e("button",{onClick:M=>V(u.product_id||u.id,u.quantity+1),class:"w-10 h-10 rounded-lg bg-white hover:bg-primary-600 hover:text-white transition-all flex items-center justify-center shadow-sm"},[p(v(pe),{class:"w-4 h-4"})],8,Ut)]),e("button",{type:"button",class:"inline-flex items-center gap-2 font-semibold text-red-600 hover:text-red-700 hover:bg-red-50 px-4 py-2 rounded-lg transition-colors",onClick:M=>P(u.product_id||u.id)},[p(v(ve),{class:"w-4 h-4"}),l[13]||(l[13]=D(" Remove ",-1))],8,It)])])])]))),128))])]),e("div",Tt,[l[18]||(l[18]=e("h3",{class:"text-lg font-bold text-zinc-900 mb-4"},"Why Shop With Us?",-1)),e("div",Ot,[e("div",Yt,[e("div",Xt,[p(v(de),{class:"w-6 h-6 text-white"})]),l[16]||(l[16]=e("div",null,[e("p",{class:"font-semibold text-zinc-900 text-sm"},"Secure Payment"),e("p",{class:"text-xs text-zinc-600"},"100% Protected")],-1))]),e("div",Et,[e("div",Ft,[p(v(H),{class:"w-6 h-6 text-white"})]),l[17]||(l[17]=e("div",null,[e("p",{class:"font-semibold text-zinc-900 text-sm"},"Free Shipping"),e("p",{class:"text-xs text-zinc-600"},"All Orders")],-1))])])])]),e("div",Ht,[e("div",Rt,[e("div",Gt,[l[23]||(l[23]=e("h2",{class:"text-xl font-bold text-zinc-900 mb-6"},"Order Summary",-1)),e("div",Jt,[e("div",Wt,[l[19]||(l[19]=e("p",null,"Subtotal",-1)),e("p",Zt,"₱"+d(C.value.toLocaleString()),1)]),e("div",Qt,[l[20]||(l[20]=e("p",null,"Shipping Fee",-1)),e("p",Kt,"₱"+d(N.value.toLocaleString()),1)]),e("div",es,[e("div",ts,[l[21]||(l[21]=e("p",{class:"text-lg font-bold text-zinc-900"},"Total",-1)),e("p",ss,"₱"+d(z.value.toLocaleString()),1)])])]),e("div",{class:"mt-6"},[e("button",{class:"w-full bg-gradient-to-r from-primary-600 to-emerald-600 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all",onClick:O}," Proceed to Checkout ")]),p(v(F),{href:"/products",class:"block text-center mt-4 text-primary-600 hover:text-primary-700 font-semibold text-sm"},{default:B(()=>[...l[22]||(l[22]=[D(" Continue Shopping ",-1)])]),_:1})]),l[24]||(l[24]=e("div",{class:"bg-gradient-to-br from-zinc-50 to-white rounded-2xl border border-zinc-200 p-6"},[e("h3",{class:"text-sm font-bold text-zinc-900 mb-3 uppercase tracking-wider"},"Secure Checkout"),e("div",{class:"space-y-3 text-sm text-zinc-600"},[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-emerald-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("span",null,"SSL Encrypted Payment")]),e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-emerald-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("span",null,"30-Day Return Policy")]),e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-emerald-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("span",null,"5-Year Warranty")])])],-1))])])])):(r(),n("div",wt,[e("div",kt,[p(v(X),{class:"w-12 h-12 text-zinc-400"})]),l[11]||(l[11]=e("h2",{class:"text-3xl font-bold text-zinc-900 mb-3"},"Your cart is empty",-1)),l[12]||(l[12]=e("p",{class:"text-lg text-zinc-600 mb-8"},"Discover our collection of premium furniture",-1)),p(v(F),{href:"/products",class:"inline-flex items-center gap-2 bg-primary-600 text-white font-bold px-8 py-4 rounded-xl hover:bg-primary-700 transition-all hover:scale-105 shadow-lg"},{default:B(()=>[...l[10]||(l[10]=[D(" Continue Shopping ",-1),e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})],-1)])]),_:1})])):(r(),n("div",ht,[e("div",yt,[p(v(X),{class:"w-12 h-12 text-primary-600"})]),l[8]||(l[8]=e("h2",{class:"text-3xl font-bold text-zinc-900 mb-3"},"Sign in to view your cart",-1)),l[9]||(l[9]=e("p",{class:"text-lg text-zinc-600 mb-8"},"Please sign in or create an account to start shopping.",-1)),e("button",{onClick:l[0]||(l[0]=u=>m.value=!0),class:"inline-flex items-center gap-2 bg-primary-600 text-white font-bold px-8 py-4 rounded-xl hover:bg-primary-700 transition-all hover:scale-105 shadow-lg"},[p(v(ie),{class:"w-5 h-5"}),l[7]||(l[7]=D(" Sign In / Sign Up ",-1))])]))])]),x.suggestedProducts&&x.suggestedProducts.length>0?(r(),n("div",ls,[e("div",os,[l[25]||(l[25]=e("div",{class:"text-center mb-12","data-aos":"fade-up"},[e("h2",{class:"text-3xl md:text-4xl font-bold text-zinc-900 mb-3"},"You Might Also Like"),e("p",{class:"text-lg text-zinc-600"},"Complete your home with these handpicked items")],-1)),e("div",as,[(r(!0),n(q,null,E(x.suggestedProducts,(u,M)=>(r(),L(J,{key:u.id,id:u.id,name:u.name,price:u.price,category:u.category,image:u.image_url,delay:M*100,onAddToCart:t,onClick:rs=>T(u)},null,8,["id","name","price","category","image","delay","onClick"]))),128))])])])):c("",!0),a.value?(r(),L(W,{key:1,show:i.value,product:a.value,onClose:l[1]||(l[1]=u=>i.value=!1),onAddToCart:t},null,8,["show","product"])):c("",!0),p(R,{show:m.value,onClose:l[2]||(l[2]=u=>m.value=!1),onAuthSuccess:I},null,8,["show"]),p(ct,{show:k.value,total:z.value,subtotal:C.value,shipping:N.value,onClose:l[3]||(l[3]=u=>k.value=!1),onSuccess:_},null,8,["show","total","subtotal","shipping"])]),_:1})],64))}};export{ws as default};
