import{a as R,_ as Z}from"./MainLayout-S8ij9RR2.js";import{_ as G}from"./ProductDetailModal-BHrYnDfG.js";import{_ as W}from"./ToastNotification-DGI2L2AT.js";import{c as d,a as e,o as i,p as k,f as z,e as f,b as v,w as B,u as h,n as N,k as y,v as w,t as u,F as P,r as Y,C as K,m as ee,T as te,I as se,s as I,d as L,l as Q,A as ae,E as le,y as q,i as E,h as oe}from"./app-B-e4HDZA.js";import{_ as re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as H,r as F}from"./XMarkIcon-DkpJG58I.js";import{r as J}from"./TruckIcon-DNlUVDBz.js";import{r as ne}from"./ArrowLeftIcon-Ba2En1KE.js";import{r as ie}from"./CreditCardIcon-B8yycls4.js";import{r as de}from"./SparklesIcon-Cvf6X6a2.js";import{r as ue}from"./ShieldCheckIcon-Bm9574ov.js";import{_ as ce}from"./ProductCard-CAEm2ZNX.js";import{u as me}from"./useCart-CdhnNwjJ.js";import"./EyeIcon-CHQ4gopk.js";import"./transition-C13SGwAa.js";function pe(m,p){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"})])}function ve(m,p){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})])}function be(m,p){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})])}function fe(m,p){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function xe(m,p){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}const ge={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},he={class:"flex min-h-full items-center justify-center p-4"},ye={class:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden"},ke={class:"p-8"},we={class:"flex items-center justify-center mb-8"},_e={class:"flex items-center"},$e={class:"flex items-center"},Ce={class:"flex items-center"},Ne={key:0,class:"space-y-6"},ze={class:"flex items-center gap-3 mb-6"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Me={key:0,class:"text-red-600 text-sm mt-1"},Pe={key:0,class:"text-red-600 text-sm mt-1"},Ve={key:0,class:"text-red-600 text-sm mt-1"},De={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ae={key:0,class:"text-red-600 text-sm mt-1"},je={key:0,class:"text-red-600 text-sm mt-1"},qe={key:0,class:"text-red-600 text-sm mt-1"},Ie={class:"bg-slate-50 p-4 rounded-lg"},Be={class:"flex justify-between text-sm mb-2"},Le={class:"font-semibold"},Te={class:"flex justify-between text-sm mb-3"},Ue={class:"font-semibold"},Oe={class:"flex justify-between text-lg font-bold border-t border-slate-200 pt-3"},Xe={class:"text-primary-600"},Ee={key:1,class:"space-y-6"},Ye={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Fe=["onClick"],He={class:"font-bold text-slate-900 mb-1"},Qe={class:"text-xs text-slate-600"},Je={key:0,class:"space-y-4 bg-slate-50 p-6 rounded-lg"},Re={key:0,class:"text-red-600 text-sm mt-1"},Ze={key:1,class:"space-y-4 bg-slate-50 p-6 rounded-lg"},Ge=["value"],We={key:0,class:"text-red-600 text-sm mt-1"},Ke={key:0,class:"text-red-600 text-sm mt-1"},et={class:"grid grid-cols-2 gap-4"},tt=["value"],st={key:0,class:"text-red-600 text-sm mt-1"},at={key:0,class:"text-red-600 text-sm mt-1"},lt={key:2,class:"space-y-4 bg-slate-50 p-6 rounded-lg"},ot={key:0,class:"text-red-600 text-sm mt-1"},rt={key:0,class:"text-red-600 text-sm mt-1"},nt={key:0,class:"text-red-600 text-sm mt-1"},it={class:"bg-slate-50 p-4 rounded-lg"},dt={class:"flex justify-between text-lg font-bold"},ut={class:"text-primary-600"},ct=["disabled"],mt={key:0,class:"fixed top-24 right-4 z-[100] max-w-sm w-full"},pt={class:"p-4 bg-emerald-100 border border-emerald-300 text-emerald-800 rounded-lg shadow-lg flex items-center gap-3"},vt={__name:"CheckoutModal",props:{show:Boolean,total:Number,subtotal:{type:Number,default:0},shipping:{type:Number,default:500}},emits:["close","success"],setup(m,{emit:p}){const s=p,l=k(1),c=k(""),b=k(!1),C=k({show:!1,message:"",type:"success"}),n=k({name:"",phone:"",address:"",city:"",province:"",postalCode:"",notes:""}),a=k({gcash:{phone:""},card:{cardNumber:"",cardName:"",expiryDate:"",cvv:""},bank:{bankName:"",accountNumber:"",accountName:""}}),r=k({}),_=[{id:"gcash",name:"GCash",icon:ve,description:"Mobile wallet payment"},{id:"card",name:"Credit/Debit Card",icon:ie,description:"Visa, Mastercard, AmEx"},{id:"bank",name:"Bank Transfer",icon:pe,description:"Direct bank transfer"}];function T(){C.value.show=!1}function x(g){return!g||typeof g!="string"?"":g.replace(/<[^>]*>/g,"").trim()}function U(){return r.value={},n.value.name=x(n.value.name),n.value.phone=x(n.value.phone),n.value.address=x(n.value.address),n.value.city=x(n.value.city),n.value.province=x(n.value.province),n.value.postalCode=x(n.value.postalCode),n.value.notes=x(n.value.notes),(!n.value.name||n.value.name.length<2||!/^[A-Za-z ]+$/.test(n.value.name))&&(r.value.name="Full name is required (letters and spaces only, min 2 characters)"),(!n.value.phone||!/^(09|\+639)\d{9}$/.test(n.value.phone))&&(r.value.phone="Valid Philippine mobile number required (09XXXXXXXXX)"),(!n.value.address||n.value.address.length<10)&&(r.value.address="Complete address is required (minimum 10 characters)"),(!n.value.city||n.value.city.length<2||!/^[A-Za-z ]+$/.test(n.value.city))&&(r.value.city="City is required (letters and spaces only, min 2 characters)"),(!n.value.province||n.value.province.length<2||!/^[A-Za-z ]+$/.test(n.value.province))&&(r.value.province="Province is required (letters and spaces only, min 2 characters)"),(!n.value.postalCode||!/^\d{4}$/.test(n.value.postalCode))&&(r.value.postalCode="Postal code required (4 digits)"),Object.keys(r.value).length===0}function S(){U()&&(l.value=2,r.value={})}function M(g){c.value=g,r.value={}}function V(){return r.value={},c.value==="gcash"?(a.value.gcash.phone=x(a.value.gcash.phone),(!a.value.gcash.phone||!/^(09|\+639)\d{9}$/.test(a.value.gcash.phone))&&(r.value.gcashPhone="Valid GCash number required (09XXXXXXXXX)")):c.value==="card"?(a.value.card.cardNumber=x(a.value.card.cardNumber),a.value.card.cardName=x(a.value.card.cardName),a.value.card.expiryDate=x(a.value.card.expiryDate),a.value.card.cvv=x(a.value.card.cvv),(!a.value.card.cardNumber||!/^\d{16}$/.test(a.value.card.cardNumber.replace(/\s/g,"")))&&(r.value.cardNumber="Valid 16-digit card number required"),(!a.value.card.cardName||a.value.card.cardName.length<3||!/^[A-Za-z ]+$/.test(a.value.card.cardName))&&(r.value.cardName="Cardholder name required (letters and spaces only, min 3 characters)"),(!a.value.card.expiryDate||!/^\d{2}\/\d{2}$/.test(a.value.card.expiryDate))&&(r.value.expiryDate="Valid expiry date required (MM/YY)"),(!a.value.card.cvv||!/^\d{3,4}$/.test(a.value.card.cvv))&&(r.value.cvv="Valid CVV required (3 or 4 digits)")):c.value==="bank"&&(a.value.bank.bankName=x(a.value.bank.bankName),a.value.bank.accountNumber=x(a.value.bank.accountNumber),a.value.bank.accountName=x(a.value.bank.accountName),(!a.value.bank.bankName||a.value.bank.bankName.length<3)&&(r.value.bankName="Bank name required"),(!a.value.bank.accountNumber||!/^\d{10,20}$/.test(a.value.bank.accountNumber))&&(r.value.accountNumber="Valid account number required (10-20 digits)"),(!a.value.bank.accountName||a.value.bank.accountName.length<3||!/^[A-Za-z ]+$/.test(a.value.bank.accountName))&&(r.value.accountName="Account holder name required (letters and spaces only, min 3 characters)")),Object.keys(r.value).length===0}function O(){if(!V())return;b.value=!0;let g;c.value==="card"?g={holder:a.value.card.cardName,number:a.value.card.cardNumber.replace(/\s/g,""),expiry:a.value.card.expiryDate,cvc:a.value.card.cvv}:c.value==="bank"?g={account_name:a.value.bank.accountName,account_number:a.value.bank.accountNumber,reference:a.value.bank.reference||"BANKREF"+Date.now()}:g=JSON.parse(JSON.stringify(a.value[c.value])),I.post("/cart/checkout",{payment_method:c.value,payment_data:g,delivery:JSON.parse(JSON.stringify(n.value))},{onSuccess:()=>{s("success"),s("close"),D()},onError:t=>{b.value=!1,t&&Object.keys(t).forEach(o=>{r.value[o]=t[o]})},onFinish:()=>{b.value=!1}})}function D(){l.value=1,c.value="",n.value={name:"",phone:"",address:"",city:"",province:"",postalCode:"",notes:""},a.value={gcash:{phone:""},card:{cardNumber:"",cardName:"",expiryDate:"",cvv:""},bank:{bankName:"",accountNumber:"",accountName:""}},r.value={}}function A(){s("close"),setTimeout(D,300)}function X(g){var $;let t=g.target.value.replace(/\s/g,""),o=(($=t.match(/.{1,4}/g))==null?void 0:$.join(" "))||t;a.value.card.cardNumber=o}function j(g){let t=g.target.value.replace(/\D/g,"");t.length>=2&&(t=t.slice(0,2)+"/"+t.slice(2,4)),a.value.card.expiryDate=t}return(g,t)=>(i(),d(P,null,[(i(),z(se,{to:"body"},[v(te,{name:"modal"},{default:B(()=>[m.show?(i(),d("div",ge,[e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:A}),e("div",he,[e("div",ye,[e("button",{onClick:A,class:"absolute top-4 right-4 z-10 p-2 hover:bg-slate-100 rounded-full transition-colors"},[v(h(H),{class:"w-6 h-6 text-slate-600"})]),e("div",ke,[e("div",we,[e("div",_e,[e("div",$e,[e("div",{class:N(["w-10 h-10 rounded-full flex items-center justify-center font-bold",l.value>=1?"bg-primary-600 text-white":"bg-slate-200 text-slate-500"])}," 1 ",2),t[14]||(t[14]=e("span",{class:"ml-2 text-sm font-medium text-slate-700"},"Delivery",-1))]),e("div",{class:N(["w-24 h-1 mx-4",l.value>=2?"bg-primary-600":"bg-slate-200"])},null,2),e("div",Ce,[e("div",{class:N(["w-10 h-10 rounded-full flex items-center justify-center font-bold",l.value>=2?"bg-primary-600 text-white":"bg-slate-200 text-slate-500"])}," 2 ",2),t[15]||(t[15]=e("span",{class:"ml-2 text-sm font-medium text-slate-700"},"Payment",-1))])])]),l.value===1?(i(),d("div",Ne,[e("div",ze,[v(h(J),{class:"w-8 h-8 text-primary-600"}),t[16]||(t[16]=e("h2",{class:"text-2xl font-bold text-slate-900"},"Delivery Information",-1))]),e("div",Se,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Full Name *",-1)),y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>n.value.name=o),type:"text",placeholder:"Juan Dela Cruz",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.name]]),r.value.name?(i(),d("p",Me,u(r.value.name),1)):f("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Mobile Number *",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>n.value.phone=o),type:"tel",placeholder:"09123456789",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.phone]]),r.value.phone?(i(),d("p",Pe,u(r.value.phone),1)):f("",!0)])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Complete Address *",-1)),y(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>n.value.address=o),rows:"3",placeholder:"House No., Street, Barangay",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.address]]),r.value.address?(i(),d("p",Ve,u(r.value.address),1)):f("",!0)]),e("div",De,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"City *",-1)),y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>n.value.city=o),type:"text",placeholder:"Manila",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.city]]),r.value.city?(i(),d("p",Ae,u(r.value.city),1)):f("",!0)]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Province *",-1)),y(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>n.value.province=o),type:"text",placeholder:"Metro Manila",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.province]]),r.value.province?(i(),d("p",je,u(r.value.province),1)):f("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Postal Code *",-1)),y(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>n.value.postalCode=o),type:"text",maxlength:"4",placeholder:"1000",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.postalCode]]),r.value.postalCode?(i(),d("p",qe,u(r.value.postalCode),1)):f("",!0)])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Delivery Notes (Optional)",-1)),y(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=o=>n.value.notes=o),rows:"2",placeholder:"Special instructions, landmarks, etc.",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.notes]])]),e("div",Ie,[e("div",Be,[t[24]||(t[24]=e("span",{class:"text-slate-600"},"Subtotal:",-1)),e("span",Le,"₱"+u(m.subtotal.toLocaleString()),1)]),e("div",Te,[t[25]||(t[25]=e("span",{class:"text-slate-600"},"Shipping:",-1)),e("span",Ue,"₱"+u(m.shipping.toLocaleString()),1)]),e("div",Oe,[t[26]||(t[26]=e("span",null,"Total:",-1)),e("span",Xe,"₱"+u(m.total.toLocaleString()),1)])]),e("button",{onClick:S,class:"w-full py-4 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-colors"}," Continue to Payment ")])):f("",!0),l.value===2?(i(),d("div",Ee,[e("button",{onClick:t[7]||(t[7]=o=>l.value=1),class:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4"},[v(h(ne),{class:"w-5 h-5"}),t[27]||(t[27]=e("span",{class:"text-sm font-medium"},"Back to Delivery",-1))]),t[38]||(t[38]=e("h2",{class:"text-2xl font-bold text-slate-900 mb-6"},"Select Payment Method",-1)),e("div",Ye,[(i(),d(P,null,Y(_,o=>e("button",{key:o.id,onClick:$=>M(o.id),class:N(["p-6 border-2 rounded-xl transition-all hover:border-primary-300 hover:shadow-md",c.value===o.id?"border-primary-600 bg-primary-50":"border-slate-200"])},[(i(),z(K(o.icon),{class:N(["w-12 h-12 mx-auto mb-3",c.value===o.id?"text-primary-600":"text-slate-400"])},null,8,["class"])),e("h3",He,u(o.name),1),e("p",Qe,u(o.description),1)],10,Fe)),64))]),c.value==="gcash"?(i(),d("div",Je,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"GCash Number *",-1)),y(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>a.value.gcash.phone=o),type:"tel",placeholder:"09123456789",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,a.value.gcash.phone]]),r.value.gcashPhone?(i(),d("p",Re,u(r.value.gcashPhone),1)):f("",!0)])])):f("",!0),c.value==="card"?(i(),d("div",Ze,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Card Number *",-1)),e("input",{value:a.value.card.cardNumber,onInput:X,type:"text",maxlength:"19",placeholder:"1234 5678 9012 3456",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,40,Ge),r.value.cardNumber?(i(),d("p",We,u(r.value.cardNumber),1)):f("",!0)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Cardholder Name *",-1)),y(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>a.value.card.cardName=o),type:"text",placeholder:"JUAN DELA CRUZ",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,a.value.card.cardName]]),r.value.cardName?(i(),d("p",Ke,u(r.value.cardName),1)):f("",!0)]),e("div",et,[e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Expiry Date *",-1)),e("input",{value:a.value.card.expiryDate,onInput:j,type:"text",maxlength:"5",placeholder:"MM/YY",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,40,tt),r.value.expiryDate?(i(),d("p",st,u(r.value.expiryDate),1)):f("",!0)]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"CVV *",-1)),y(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>a.value.card.cvv=o),type:"password",maxlength:"4",placeholder:"•••",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,a.value.card.cvv]]),r.value.cvv?(i(),d("p",at,u(r.value.cvv),1)):f("",!0)])])])):f("",!0),c.value==="bank"?(i(),d("div",lt,[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Bank Name *",-1)),y(e("select",{"onUpdate:modelValue":t[11]||(t[11]=o=>a.value.bank.bankName=o),class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},[...t[33]||(t[33]=[e("option",{value:""},"Select Bank",-1),e("option",{value:"BDO"},"BDO",-1),e("option",{value:"BPI"},"BPI",-1),e("option",{value:"Metrobank"},"Metrobank",-1),e("option",{value:"Unionbank"},"Unionbank",-1),e("option",{value:"Landbank"},"Landbank",-1)])],512),[[ee,a.value.bank.bankName]]),r.value.bankName?(i(),d("p",ot,u(r.value.bankName),1)):f("",!0)]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Account Number *",-1)),y(e("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>a.value.bank.accountNumber=o),type:"text",placeholder:"1234567890",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,a.value.bank.accountNumber]]),r.value.accountNumber?(i(),d("p",rt,u(r.value.accountNumber),1)):f("",!0)]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Account Holder Name *",-1)),y(e("input",{"onUpdate:modelValue":t[13]||(t[13]=o=>a.value.bank.accountName=o),type:"text",placeholder:"Juan Dela Cruz",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,a.value.bank.accountName]]),r.value.accountName?(i(),d("p",nt,u(r.value.accountName),1)):f("",!0)])])):f("",!0),e("div",it,[e("div",dt,[t[37]||(t[37]=e("span",null,"Total to Pay:",-1)),e("span",ut,"₱"+u(m.total.toLocaleString()),1)])]),e("button",{onClick:O,disabled:b.value||!c.value,class:"w-full py-4 bg-primary-600 hover:bg-primary-700 disabled:bg-slate-300 text-white font-bold rounded-lg transition-colors disabled:cursor-not-allowed"},u(b.value?"Processing...":"Complete Order"),9,ct)])):f("",!0)])])])])):f("",!0)]),_:1})])),C.value.show?(i(),d("div",mt,[e("div",pt,[e("span",null,u(C.value.message),1),e("button",{onClick:T,class:"ml-auto text-emerald-700 hover:text-emerald-900"},[v(h(H),{class:"w-5 h-5"})])])])):f("",!0)],64))}},bt=re(vt,[["__scopeId","data-v-c92996b9"]]),ft={class:"relative bg-gradient-to-br from-primary-600 via-emerald-700 to-emerald-800 text-white overflow-hidden"},xt={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-16 relative"},gt={class:"max-w-4xl mx-auto text-center","data-aos":"fade-up"},ht={class:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full mb-4"},yt={class:"text-sm font-medium"},kt={__name:"CartHeader",props:{itemCount:{type:Number,default:0}},setup(m){return(p,s)=>(i(),d("div",ft,[s[2]||(s[2]=e("div",{class:"absolute inset-0 bg-[url('/grid.svg')] opacity-10"},null,-1)),e("div",xt,[e("div",gt,[e("div",ht,[v(h(F),{class:"w-4 h-4"}),e("span",yt,u(m.itemCount)+" "+u(m.itemCount===1?"Item":"Items"),1)]),s[0]||(s[0]=e("h1",{class:"text-4xl md:text-5xl font-bold tracking-tight mb-4"}," Your Shopping Cart ",-1)),s[1]||(s[1]=e("p",{class:"text-lg text-emerald-100"}," Review your items and proceed to secure checkout ",-1))])])]))}},wt={class:"max-w-2xl mx-auto text-center py-24 bg-white rounded-2xl shadow-lg","data-aos":"fade-up"},_t={class:"mx-auto w-24 h-24 bg-gradient-to-br from-primary-100 to-emerald-100 rounded-full flex items-center justify-center mb-6"},$t={__name:"SignInPrompt",emits:["openAuthModal"],setup(m){return(p,s)=>(i(),d("div",wt,[e("div",_t,[v(h(F),{class:"w-12 h-12 text-primary-600"})]),s[2]||(s[2]=e("h2",{class:"text-3xl font-bold text-zinc-900 mb-3"},"Sign in to view your cart",-1)),s[3]||(s[3]=e("p",{class:"text-lg text-zinc-600 mb-8"},"Please sign in or create an account to start shopping.",-1)),e("button",{onClick:s[0]||(s[0]=l=>p.$emit("openAuthModal")),class:"inline-flex items-center gap-2 bg-primary-600 text-white font-bold px-8 py-4 rounded-xl hover:bg-primary-700 transition-all hover:scale-105 shadow-lg"},[v(h(de),{class:"w-5 h-5"}),s[1]||(s[1]=L(" Sign In / Sign Up ",-1))])]))}},Ct={class:"max-w-2xl mx-auto text-center py-24 bg-white rounded-2xl shadow-lg","data-aos":"fade-up"},Nt={class:"mx-auto w-24 h-24 bg-gradient-to-br from-zinc-100 to-zinc-200 rounded-full flex items-center justify-center mb-6"},zt={__name:"EmptyCart",setup(m){return(p,s)=>(i(),d("div",Ct,[e("div",Nt,[v(h(F),{class:"w-12 h-12 text-zinc-400"})]),s[1]||(s[1]=e("h2",{class:"text-3xl font-bold text-zinc-900 mb-3"},"Your cart is empty",-1)),s[2]||(s[2]=e("p",{class:"text-lg text-zinc-600 mb-8"},"Discover our collection of premium furniture",-1)),v(h(Q),{href:"/products",class:"inline-flex items-center gap-2 bg-primary-600 text-white font-bold px-8 py-4 rounded-xl hover:bg-primary-700 transition-all hover:scale-105 shadow-lg"},{default:B(()=>[...s[0]||(s[0]=[L(" Continue Shopping ",-1),e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})],-1)])]),_:1})]))}},St={class:"lg:col-span-2 space-y-4"},Mt={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 overflow-hidden"},Pt={role:"list",class:"divide-y divide-zinc-200"},Vt={class:"flex gap-6"},Dt={class:"flex-shrink-0 w-24 h-24 sm:w-32 sm:h-32 rounded-xl overflow-hidden shadow-sm group-hover:shadow-md transition-shadow"},At=["src","alt"],jt={key:1,class:"w-full h-full bg-gradient-to-br from-zinc-100 to-zinc-200 flex items-center justify-center"},qt={class:"flex-1 flex flex-col justify-between"},It={class:"flex justify-between"},Bt={class:"text-lg font-bold text-zinc-900 mb-1"},Lt={class:"text-sm text-zinc-500 uppercase tracking-wider"},Tt={class:"text-xl font-bold text-primary-600 ml-4"},Ut={class:"text-sm text-zinc-600 mt-2"},Ot={class:"flex items-center justify-between mt-4"},Xt={class:"flex items-center gap-3 bg-zinc-100 rounded-xl p-1"},Et=["onClick","disabled"],Yt=["value","max","onInput","onBlur"],Ft=["onClick","disabled"],Ht=["onClick"],Qt={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 p-6"},Jt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Rt={class:"flex items-center gap-3 p-4 bg-blue-50 rounded-xl border border-blue-100"},Zt={class:"flex-shrink-0 w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center"},Gt={class:"flex items-center gap-3 p-4 bg-emerald-50 rounded-xl border border-emerald-100"},Wt={class:"flex-shrink-0 w-10 h-10 bg-emerald-600 rounded-lg flex items-center justify-center"},Kt={__name:"CartItems",props:{cartItems:{type:Array,default:()=>[]}},emits:["updateQuantity","removeItem"],setup(m){return(p,s)=>(i(),d("div",St,[e("div",Mt,[s[2]||(s[2]=e("div",{class:"bg-gradient-to-r from-zinc-50 to-white px-6 py-4 border-b border-zinc-200"},[e("h2",{class:"text-xl font-bold text-zinc-900"},"Cart Items")],-1)),e("ul",Pt,[(i(!0),d(P,null,Y(m.cartItems,l=>(i(),d("li",{key:l.product_id||l.id,class:"p-6 hover:bg-zinc-50 transition-colors group"},[e("div",Vt,[e("div",Dt,[l.image_url?(i(),d("img",{key:0,src:l.image_url,alt:l.name,class:"w-full h-full object-cover"},null,8,At)):(i(),d("div",jt,[...s[0]||(s[0]=[e("svg",{class:"w-12 h-12 text-zinc-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))]),e("div",qt,[e("div",null,[e("div",It,[e("div",null,[e("h3",Bt,u(l.name),1),e("p",Lt,u(l.category),1)]),e("p",Tt,"₱"+u((l.price*l.quantity).toLocaleString()),1)]),e("p",Ut,"₱"+u(l.price.toLocaleString())+" each",1)]),e("div",Ot,[e("div",Xt,[e("button",{onClick:c=>p.$emit("updateQuantity",{productId:l.product_id||l.id,quantity:l.quantity-1,stock:l.stock}),disabled:l.quantity<=1,class:N(["w-10 h-10 rounded-lg",l.quantity<=1?"bg-zinc-200 text-zinc-400 cursor-not-allowed":"bg-white hover:bg-primary-600 hover:text-white","transition-all flex items-center justify-center shadow-sm"]),"aria-label":"Decrease quantity"},[v(h(be),{class:"w-4 h-4"})],10,Et),e("input",{type:"number",value:l.quantity,min:"1",max:l.stock,onInput:c=>{let b=c.target.value.replace(/[^0-9]/g,"");b=b?Math.max(1,Math.min(Number(b),l.stock)):1,b!=l.quantity&&p.$emit("updateQuantity",{productId:l.product_id||l.id,quantity:b,stock:l.stock})},onBlur:c=>{let b=c.target.value.replace(/[^0-9]/g,"");b=b?Math.max(1,Math.min(Number(b),l.stock)):1,b!=l.quantity&&p.$emit("updateQuantity",{productId:l.product_id||l.id,quantity:b,stock:l.stock})},class:"w-16 text-center font-bold text-zinc-900 rounded-lg border border-zinc-300 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all py-2 px-2 bg-white","aria-label":"Product quantity"},null,40,Yt),e("button",{onClick:c=>p.$emit("updateQuantity",{productId:l.product_id||l.id,quantity:l.quantity+1,stock:l.stock}),disabled:l.quantity>=l.stock,class:N(["w-10 h-10 rounded-lg",l.quantity>=l.stock?"bg-red-100 text-red-400 cursor-not-allowed":"bg-white hover:bg-primary-600 hover:text-white","transition-all flex items-center justify-center shadow-sm"]),"aria-label":"Increase quantity"},[v(h(fe),{class:"w-4 h-4"})],10,Ft)]),e("button",{type:"button",class:"inline-flex items-center gap-2 font-semibold text-red-600 hover:text-red-700 hover:bg-red-50 px-4 py-2 rounded-lg transition-colors",onClick:c=>p.$emit("removeItem",l.product_id||l.id)},[v(h(xe),{class:"w-4 h-4"}),s[1]||(s[1]=L(" Remove ",-1))],8,Ht)])])])]))),128))])]),e("div",Qt,[s[5]||(s[5]=e("h3",{class:"text-lg font-bold text-zinc-900 mb-4"},"Why Shop With Us?",-1)),e("div",Jt,[e("div",Rt,[e("div",Zt,[v(h(ue),{class:"w-6 h-6 text-white"})]),s[3]||(s[3]=e("div",null,[e("p",{class:"font-semibold text-zinc-900 text-sm"},"Secure Payment"),e("p",{class:"text-xs text-zinc-600"},"100% Protected")],-1))]),e("div",Gt,[e("div",Wt,[v(h(J),{class:"w-6 h-6 text-white"})]),s[4]||(s[4]=e("div",null,[e("p",{class:"font-semibold text-zinc-900 text-sm"},"Free Shipping"),e("p",{class:"text-xs text-zinc-600"},"All Orders")],-1))])])])]))}},es={class:"sticky top-24 space-y-4"},ts={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 p-6"},ss={class:"space-y-4"},as={class:"flex items-center justify-between text-zinc-600"},ls={class:"font-semibold text-zinc-900"},os={class:"flex items-center justify-between text-zinc-600"},rs={class:"font-semibold text-emerald-600"},ns={class:"border-t-2 border-zinc-200 pt-4"},is={class:"flex items-center justify-between"},ds={class:"text-2xl font-bold text-primary-600"},us={class:"mt-6"},cs={__name:"OrderSummary",props:{subtotal:{type:Number,required:!0},shipping:{type:Number,required:!0},total:{type:Number,required:!0}},emits:["checkout"],setup(m){return(p,s)=>(i(),d("div",es,[e("div",ts,[s[5]||(s[5]=e("h2",{class:"text-xl font-bold text-zinc-900 mb-6"},"Order Summary",-1)),e("div",ss,[e("div",as,[s[1]||(s[1]=e("p",null,"Subtotal",-1)),e("p",ls,"₱"+u(m.subtotal.toLocaleString()),1)]),e("div",os,[s[2]||(s[2]=e("p",null,"Shipping Fee",-1)),e("p",rs,"₱"+u(m.shipping.toLocaleString()),1)]),e("div",ns,[e("div",is,[s[3]||(s[3]=e("p",{class:"text-lg font-bold text-zinc-900"},"Total",-1)),e("p",ds,"₱"+u(m.total.toLocaleString()),1)])])]),e("div",us,[e("button",{class:"w-full bg-gradient-to-r from-primary-600 to-emerald-600 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all",onClick:s[0]||(s[0]=l=>p.$emit("checkout"))}," Proceed to Checkout ")]),v(h(Q),{href:"/products",class:"block text-center mt-4 text-primary-600 hover:text-primary-700 font-semibold text-sm"},{default:B(()=>[...s[4]||(s[4]=[L(" Continue Shopping ",-1)])]),_:1})]),s[6]||(s[6]=ae('<div class="bg-gradient-to-br from-zinc-50 to-white rounded-2xl border border-zinc-200 p-6"><h3 class="text-sm font-bold text-zinc-900 mb-3 uppercase tracking-wider">Secure Checkout</h3><div class="space-y-3 text-sm text-zinc-600"><div class="flex items-center gap-2"><svg class="w-4 h-4 text-emerald-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span>SSL Encrypted Payment</span></div><div class="flex items-center gap-2"><svg class="w-4 h-4 text-emerald-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span>30-Day Return Policy</span></div><div class="flex items-center gap-2"><svg class="w-4 h-4 text-emerald-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span>5-Year Warranty</span></div></div></div>',1))]))}},ms={key:0,class:"bg-white py-16"},ps={class:"container mx-auto px-4 sm:px-6 lg:px-8"},vs={class:"grid grid-cols-2 md:grid-cols-4 gap-6"},bs={__name:"SuggestedProducts",props:{suggestedProducts:{type:Array,default:()=>[]}},emits:["addToCart","productClick"],setup(m){return(p,s)=>m.suggestedProducts&&m.suggestedProducts.length>0?(i(),d("div",ms,[e("div",ps,[s[0]||(s[0]=e("div",{class:"text-center mb-12","data-aos":"fade-up"},[e("h2",{class:"text-3xl md:text-4xl font-bold text-zinc-900 mb-3"},"You Might Also Like"),e("p",{class:"text-lg text-zinc-600"},"Complete your home with these handpicked items")],-1)),e("div",vs,[(i(!0),d(P,null,Y(m.suggestedProducts,(l,c)=>(i(),z(ce,{key:l.id,id:l.id,name:l.name,price:l.price,category:l.category,stock:l.stock,image:l.image_url,delay:c*100,onAddToCart:b=>p.$emit("addToCart",l),onClick:b=>p.$emit("productClick",l)},null,8,["id","name","price","category","stock","image","delay","onAddToCart","onClick"]))),128))])])])):f("",!0)}},fs={class:"bg-zinc-50 min-h-screen"},xs={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-12"},gs={key:2,class:"grid grid-cols-1 lg:grid-cols-3 gap-8","data-aos":"fade-up"},hs={class:"lg:col-span-1"},qs={__name:"Cart",props:{suggestedProducts:Array},setup(m){const p=le(),s=k(p.props.cartItems||[]),l=q(()=>{var t;return!!((t=p.props.auth)!=null&&t.user)}),c=k(!1),b=k(!1),C=k(!1),n=k(null),a=k({show:!1,message:"",type:"success"}),{addToCart:r}=me({showToast:_,isAuthenticated:l,isAuthOpen:c});E(()=>p.props.cartItems,t=>{s.value=t||[]}),E(()=>{var t;return(t=p.props.flash)==null?void 0:t.success},t=>{t&&_(t,"success")}),E(()=>{var t;return(t=p.props.flash)==null?void 0:t.error},t=>{t&&_(t,"error")});function _(t,o="success"){a.value={show:!0,message:t,type:o}}function T(){a.value.show=!1}function x(t){_(t,"success")}function U(t){n.value={...t,id:t.id||t.product_id},C.value=!0}const S=q(()=>s.value.reduce((t,o)=>t+o.price*o.quantity,0)),M=q(()=>s.value.length?500:0),V=q(()=>S.value+M.value);function O(t){I.delete(`/cart/${t}`,{preserveScroll:!0})}function D(t,o){I.patch(`/cart/${t}`,{quantity:o},{preserveScroll:!0})}function A(){if(!l.value){c.value=!0;return}if(s.value.length===0){_("Your cart is empty","error");return}b.value=!0}function X(){_("Order placed successfully! Redirecting to your orders...","success"),b.value=!1,setTimeout(()=>{I.visit("/orders",{replace:!0})},1200)}function j(t){r(t)}function g({productId:t,quantity:o,stock:$}){if(isNaN(o)||o<1){_("Quantity must be at least 1","error");return}if(o>$){_("Not enough stock available","error");return}D(t,o)}return(t,o)=>(i(),d(P,null,[v(h(oe),{title:"Your Cart"}),v(Z,null,{default:B(()=>[v(W,{show:a.value.show,message:a.value.message,type:a.value.type,onClose:T},null,8,["show","message","type"]),v(kt,{"item-count":s.value.length},null,8,["item-count"]),e("div",fs,[e("div",xs,[l.value?s.value.length?(i(),d("div",gs,[v(Kt,{"cart-items":s.value,onUpdateQuantity:g,onRemoveItem:O},null,8,["cart-items"]),e("div",hs,[v(cs,{subtotal:S.value,shipping:M.value,total:V.value,onCheckout:A},null,8,["subtotal","shipping","total"])])])):(i(),z(zt,{key:1})):(i(),z($t,{key:0,onOpenAuthModal:o[0]||(o[0]=$=>c.value=!0)}))])]),v(bs,{"suggested-products":m.suggestedProducts,onAddToCart:j,onProductClick:U},null,8,["suggested-products"]),n.value?(i(),z(G,{key:0,show:C.value,product:n.value,onClose:o[1]||(o[1]=$=>C.value=!1),onAddToCart:j},null,8,["show","product"])):f("",!0),v(R,{show:c.value,onClose:o[2]||(o[2]=$=>c.value=!1),onAuthSuccess:x},null,8,["show"]),v(bt,{show:b.value,total:V.value,subtotal:S.value,shipping:M.value,onClose:o[3]||(o[3]=$=>b.value=!1),onSuccess:X},null,8,["show","total","subtotal","shipping"])]),_:1})],64))}};export{qs as default};
