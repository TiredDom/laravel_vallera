import{y as F,c as x,a as e,t as b,o as c,F as j,g as U,f as L,n as G,j as Q,r as y,i as T,w,b as f,u as r,m as Y,p as k,v as $,q as J,d as N,G as D,k as V,E as de,h as ue,l as me,s as A}from"./app-GKyMU9YN.js";import{_ as ce}from"./ToastNotification-CkFaRKfq.js";import{Y as O,h as M,G as q,S as H}from"./transition-DC3scIWI.js";import{_ as pe}from"./ProductDetailModal-C6ZTonJv.js";import"./XMarkIcon-MZDbsmgk.js";const fe={class:"grid grid-cols-2 lg:grid-cols-6 gap-3 sm:gap-4 mb-6","data-aos":"fade-up"},xe={class:"bg-white rounded-xl shadow-lg border-2 border-emerald-200 p-4 sm:p-6"},be={class:"flex items-center justify-between"},ge={class:"text-base sm:text-xl font-bold text-emerald-600"},ve={class:"bg-white rounded-xl shadow-lg border-2 border-blue-200 p-4 sm:p-6"},we={class:"flex items-center justify-between"},ye={class:"text-base sm:text-xl font-bold text-blue-600"},he={class:"bg-white rounded-xl shadow-lg border-2 border-amber-200 p-4 sm:p-6"},ke={class:"flex items-center justify-between"},$e={class:"text-base sm:text-xl font-bold text-amber-600"},Ce={class:"bg-white rounded-xl shadow-lg border-2 border-orange-200 p-4 sm:p-6"},_e={class:"flex items-center justify-between"},Se={class:"text-base sm:text-xl font-bold text-orange-600"},je={class:"bg-white rounded-xl shadow-lg border-2 border-red-200 p-4 sm:p-6"},Me={class:"flex items-center justify-between"},Pe={class:"text-base sm:text-xl font-bold text-red-600"},Be={class:"bg-white rounded-xl shadow-lg border-2 border-indigo-200 p-4 sm:p-6"},Ae={class:"flex items-center justify-between"},Fe={class:"text-base sm:text-xl font-bold text-indigo-600"},Le={__name:"ProductStats",props:{products:Array,featuredCount:Number,maxFeatured:{type:Number,default:3}},setup(u){const p=u,l=F(()=>p.products.reduce((g,n)=>g+n.stock,0)),o=F(()=>p.products.filter(g=>g.stock>0&&g.stock<10).length),a=F(()=>p.products.filter(g=>g.stock===0).length),h=F(()=>new Set(p.products.map(n=>n.category)).size);return(g,n)=>(c(),x("div",fe,[e("div",xe,[e("div",be,[e("div",null,[e("p",ge,b(u.products.length),1),n[0]||(n[0]=e("p",{class:"text-xs sm:text-sm text-slate-600 mt-1 font-medium"},"Total Products",-1))]),n[1]||(n[1]=e("div",{class:"p-2 sm:p-3 bg-emerald-100 rounded-lg"},[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1))])]),e("div",ve,[e("div",we,[e("div",null,[e("p",ye,b(u.featuredCount)+"/"+b(u.maxFeatured),1),n[2]||(n[2]=e("p",{class:"text-xs sm:text-sm text-slate-600 mt-1 font-medium"},"Featured",-1))]),n[3]||(n[3]=e("div",{class:"p-2 sm:p-3 bg-blue-100 rounded-lg"},[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})])],-1))])]),e("div",he,[e("div",ke,[e("div",null,[e("p",$e,b(l.value),1),n[4]||(n[4]=e("p",{class:"text-xs sm:text-sm text-slate-600 mt-1 font-medium"},"Total Stock",-1))]),n[5]||(n[5]=e("div",{class:"p-2 sm:p-3 bg-amber-100 rounded-lg"},[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1))])]),e("div",Ce,[e("div",_e,[e("div",null,[e("p",Se,b(o.value),1),n[6]||(n[6]=e("p",{class:"text-xs sm:text-sm text-slate-600 mt-1 font-medium"},"Low Stock",-1))]),n[7]||(n[7]=e("div",{class:"p-2 sm:p-3 bg-orange-100 rounded-lg"},[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1))])]),e("div",je,[e("div",Me,[e("div",null,[e("p",Pe,b(a.value),1),n[8]||(n[8]=e("p",{class:"text-xs sm:text-sm text-slate-600 mt-1 font-medium"},"Sold Out",-1))]),n[9]||(n[9]=e("div",{class:"p-2 sm:p-3 bg-red-100 rounded-lg"},[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1))])]),e("div",Be,[e("div",Ae,[e("div",null,[e("p",Fe,b(h.value),1),n[10]||(n[10]=e("p",{class:"text-xs sm:text-sm text-slate-600 mt-1 font-medium"},"Active Categories",-1))]),n[11]||(n[11]=e("div",{class:"p-2 sm:p-3 bg-indigo-100 rounded-lg"},[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v4a1 1 0 001 1h3m10-5v4a1 1 0 01-1 1h-3m-4 4v4a1 1 0 001 1h3m10-5v4a1 1 0 01-1 1h-3"})])],-1))])])]))}},Ue={class:"bg-white rounded-xl shadow-lg border border-slate-200 mb-6","data-aos":"fade-up","data-aos-delay":"50"},Ee={class:"p-6"},ze={class:"flex flex-col lg:flex-row gap-4"},De={class:"flex-1"},Ne={class:"relative"},Ve=["value"],Te={class:"sm:w-64"},Oe=["value"],qe=["value"],He={class:"sm:w-56"},Ie=["value"],Re=["value"],Ge={__name:"ProductFilters",props:{searchQuery:String,categoryFilter:String,sortBy:String,categories:Array,sortOptions:Array},emits:["update:searchQuery","update:categoryFilter","update:sortBy"],setup(u){return(p,l)=>(c(),x("div",Ue,[e("div",Ee,[e("div",ze,[e("div",De,[l[4]||(l[4]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Search",-1)),e("div",Ne,[l[3]||(l[3]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35M11 19a8 8 0 100-16 8 8 0 000 16z"})],-1)),e("input",{value:u.searchQuery,onInput:l[0]||(l[0]=o=>p.$emit("update:searchQuery",o.target.value)),type:"text",placeholder:"Search products by name or description...",class:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"},null,40,Ve)])]),e("div",Te,[l[6]||(l[6]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Category",-1)),e("select",{value:u.categoryFilter,onChange:l[1]||(l[1]=o=>p.$emit("update:categoryFilter",o.target.value)),class:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all font-medium"},[l[5]||(l[5]=e("option",{value:"All"},"All Categories",-1)),(c(!0),x(j,null,U(u.categories,o=>(c(),x("option",{key:o,value:o},b(o),9,qe))),128))],40,Oe)]),e("div",He,[l[7]||(l[7]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Sort By",-1)),e("select",{value:u.sortBy,onChange:l[2]||(l[2]=o=>p.$emit("update:sortBy",o.target.value)),class:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all font-medium"},[(c(!0),x(j,null,U(u.sortOptions,o=>(c(),x("option",{key:o.value,value:o.value},b(o.label),9,Re))),128))],40,Ie)])])])]))}},Qe={class:"bg-white rounded-xl shadow-lg border border-slate-200","data-aos":"fade-up","data-aos-delay":"100"},Ye={class:"p-4 sm:p-6 space-y-4 sm:space-y-6"},Je={class:"flex items-start gap-3 sm:gap-4 flex-1"},We={class:"w-20 h-20 sm:w-24 sm:h-24 rounded-lg overflow-hidden bg-slate-100 flex-shrink-0"},Ke=["src","alt"],Xe={key:1,class:"w-full h-full flex items-center justify-center text-slate-400"},Ze={class:"flex-1 min-w-0"},et={class:"flex flex-wrap items-center gap-2 mb-1"},tt={class:"text-base sm:text-lg font-bold text-slate-900 truncate"},st={key:0,class:"px-2 py-0.5 text-xs font-bold rounded-full bg-amber-100 text-amber-700 whitespace-nowrap"},ot={key:1,class:"px-2 py-0.5 text-xs font-bold rounded-full bg-red-100 text-red-700 whitespace-nowrap"},lt={class:"text-xs sm:text-sm text-slate-600 mb-2 line-clamp-2"},rt={class:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm"},at={class:"font-semibold text-emerald-600 whitespace-nowrap"},nt={class:"flex items-center gap-1.5 whitespace-nowrap"},it={class:"px-2 py-0.5 rounded-md text-xs font-semibold bg-slate-100 text-slate-700 whitespace-nowrap"},dt={class:"flex items-center gap-2 sm:flex-col sm:gap-2 justify-end sm:justify-center"},ut=["onClick"],mt=["onClick"],ct=["onClick"],pt={key:0,class:"text-center py-12"},ft={__name:"ProductList",props:{products:Array},emits:["preview","edit","delete","add"],setup(u){return(p,l)=>(c(),x("div",Qe,[e("div",Ye,[(c(!0),x(j,null,U(u.products,o=>(c(),x("div",{key:o.id,class:"flex flex-col sm:flex-row sm:items-center gap-4 p-4 border-2 border-slate-200 rounded-xl hover:border-emerald-300 hover:shadow-md transition-all"},[e("div",Je,[e("div",We,[o.image_url?(c(),x("img",{key:0,src:o.image_url,alt:o.name,class:"w-full h-full object-cover"},null,8,Ke)):(c(),x("div",Xe,[...l[1]||(l[1]=[e("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))]),e("div",Ze,[e("div",et,[e("h3",tt,b(o.name),1),o.is_featured?(c(),x("span",st,"⭐ Featured")):L("",!0),o.is_active?L("",!0):(c(),x("span",ot,"Inactive"))]),e("p",lt,b(o.description||"No description"),1),e("div",rt,[e("span",at,"₱"+b(Number(o.price).toLocaleString()),1),e("div",nt,[l[2]||(l[2]=e("span",{class:"text-slate-600 font-medium"},"Stock:",-1)),e("span",{class:G(["px-2 py-0.5 rounded-md font-bold",{"bg-red-100 text-red-700":o.stock===0,"bg-amber-100 text-amber-700":o.stock>0&&o.stock<10,"bg-emerald-100 text-emerald-700":o.stock>=10}])},b(o.stock),3)]),e("span",it,b(o.category_name),1)])])]),e("div",dt,[e("button",{onClick:a=>p.$emit("preview",o),class:"flex-1 sm:flex-none sm:w-full px-3 py-2 bg-purple-100 text-purple-700 rounded-lg font-semibold hover:bg-purple-200 transition-colors text-xs sm:text-sm flex items-center justify-center gap-1 whitespace-nowrap"},[...l[3]||(l[3]=[e("svg",{class:"w-4 h-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),e("span",{class:"hidden sm:inline"},"Preview",-1)])],8,ut),e("button",{onClick:a=>p.$emit("edit",o),class:"flex-1 sm:flex-none sm:w-full px-3 py-2 bg-blue-100 text-blue-700 rounded-lg font-semibold hover:bg-blue-200 transition-colors text-xs sm:text-sm whitespace-nowrap"},"Edit",8,mt),e("button",{onClick:a=>p.$emit("delete",o),class:"flex-1 sm:flex-none sm:w-full px-3 py-2 bg-red-100 text-red-700 rounded-lg font-semibold hover:bg-red-200 transition-colors text-xs sm:text-sm whitespace-nowrap"},"Delete",8,ct)])]))),128)),u.products.length===0?(c(),x("div",pt,[l[4]||(l[4]=e("svg",{class:"mx-auto w-16 h-16 text-slate-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)),l[5]||(l[5]=e("p",{class:"text-slate-600 font-medium text-lg"},"No products yet",-1)),l[6]||(l[6]=e("p",{class:"text-slate-500 text-sm mt-2"},"Create your first product to get started",-1)),e("button",{onClick:l[0]||(l[0]=o=>p.$emit("add")),class:"mt-4 px-6 py-2 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-lg font-semibold hover:from-emerald-700 hover:to-teal-700 transition-all"},"Add Your First Product")])):L("",!0)])]))}},xt={class:"fixed inset-0 overflow-y-auto"},bt={class:"flex min-h-full items-center justify-center p-2 sm:p-4"},gt={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4"},vt={class:"sm:col-span-2"},wt={class:"sm:col-span-2"},yt=["value"],ht={key:0,class:"sm:col-span-2"},kt=["src"],$t={class:"sm:col-span-2 flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4"},Ct={class:"flex items-center gap-2"},_t={class:"flex items-center gap-2"},St={class:"flex flex-col-reverse sm:flex-row items-center justify-end gap-2 sm:gap-3 pt-3 sm:pt-4 border-t border-slate-200"},jt=["disabled"],Mt={__name:"AddProductModal",props:{show:Boolean,categoryOptions:Array},emits:["close","productAdded","toast"],setup(u,{emit:p}){const l=p,o=Q({name:"",description:"",price:0,stock:0,category:"",image:null,is_featured:!1,is_active:!0}),a=y(null);function h(n){const t=n.target.files[0];if(t){if(t.size>5242880){l("toast",{show:!0,message:"Image must be less than 5MB",type:"error"}),n.target.value="";return}o.image=t;const m=new FileReader;m.onload=C=>a.value=C.target.result,m.readAsDataURL(t)}}function g(){if(!o.image){l("toast",{show:!0,message:"Please upload a product image",type:"error"});return}o.post("/admin/products",{preserveScroll:!0,preserveState:!0,onSuccess:()=>{l("productAdded"),l("close"),o.reset(),a.value=null,l("toast",{show:!0,message:"Product created successfully",type:"success"})},onError:n=>{const t=Object.values(n)[0];l("toast",{show:!0,message:t||"Failed to create product",type:"error"})}})}return(n,t)=>(c(),T(r(H),{show:u.show,as:"template"},{default:w(()=>[f(r(O),{onClose:t[8]||(t[8]=s=>n.$emit("close")),class:"relative z-50"},{default:w(()=>[f(r(M),{enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:w(()=>[...t[9]||(t[9]=[e("div",{class:"fixed inset-0 bg-black/30 backdrop-blur-sm"},null,-1)])]),_:1}),e("div",xt,[e("div",bt,[f(r(M),{enter:"ease-out duration-300","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:w(()=>[f(r(q),{class:"w-full max-w-2xl bg-white rounded-xl shadow-2xl max-h-[95vh] overflow-y-auto"},{default:w(()=>[t[20]||(t[20]=e("div",{class:"bg-gradient-to-r from-emerald-600 to-teal-600 px-4 sm:px-6 py-3 sm:py-4 rounded-t-xl sticky top-0 z-10"},[e("h3",{class:"text-base sm:text-lg font-semibold text-white"},"Add New Product")],-1)),e("form",{onSubmit:Y(g,["prevent"]),class:"p-4 sm:p-6 space-y-3 sm:space-y-4"},[e("div",gt,[e("div",vt,[t[10]||(t[10]=e("label",{class:"block text-xs sm:text-sm font-semibold text-slate-700 mb-1.5 sm:mb-2"},"Product Name",-1)),k(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r(o).name=s),type:"text",required:"",class:"w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",placeholder:"Enter product name"},null,512),[[$,r(o).name]])]),e("div",wt,[t[11]||(t[11]=e("label",{class:"block text-xs sm:text-sm font-semibold text-slate-700 mb-1.5 sm:mb-2"},"Description",-1)),k(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>r(o).description=s),rows:"2",class:"w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",placeholder:"Enter product description"},null,512),[[$,r(o).description]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-xs sm:text-sm font-semibold text-slate-700 mb-1.5 sm:mb-2"},"Price (₱)",-1)),k(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>r(o).price=s),type:"number",step:"0.01",required:"",min:"0",class:"w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",placeholder:"0.00"},null,512),[[$,r(o).price]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-xs sm:text-sm font-semibold text-slate-700 mb-1.5 sm:mb-2"},"Stock",-1)),k(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>r(o).stock=s),type:"number",required:"",min:"0",class:"w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",placeholder:"0"},null,512),[[$,r(o).stock]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-xs sm:text-sm font-semibold text-slate-700 mb-1.5 sm:mb-2"},"Category",-1)),k(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>r(o).category=s),required:"",class:"w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"},[t[14]||(t[14]=e("option",{value:""},"Select Category",-1)),(c(!0),x(j,null,U(u.categoryOptions,s=>(c(),x("option",{key:s,value:s},b(s),9,yt))),128))],512),[[J,r(o).category]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-xs sm:text-sm font-semibold text-slate-700 mb-1.5 sm:mb-2"},[N(" Image "),e("span",{class:"text-red-500"},"*")],-1)),e("input",{type:"file",onChange:h,accept:"image/*",required:"",class:"w-full px-3 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all file:mr-2 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-emerald-50 file:text-emerald-700 hover:file:bg-emerald-100"},null,32),t[17]||(t[17]=e("p",{class:"text-xs text-slate-500 mt-1"},"JPG, PNG, or WEBP (max 5MB)",-1))]),a.value?(c(),x("div",ht,[e("img",{src:a.value,class:"w-full h-32 sm:h-48 object-cover rounded-lg border-2 border-slate-200",alt:"Preview"},null,8,kt)])):L("",!0),e("div",$t,[e("label",Ct,[k(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>r(o).is_featured=s),type:"checkbox",class:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-600 border-slate-300 rounded focus:ring-emerald-500"},null,512),[[D,r(o).is_featured]]),t[18]||(t[18]=e("span",{class:"text-xs sm:text-sm font-medium text-slate-700"},"Featured (Max 8)",-1))]),e("label",_t,[k(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>r(o).is_active=s),type:"checkbox",class:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-600 border-slate-300 rounded focus:ring-emerald-500"},null,512),[[D,r(o).is_active]]),t[19]||(t[19]=e("span",{class:"text-xs sm:text-sm font-medium text-slate-700"},"Active",-1))])])]),e("div",St,[e("button",{type:"button",onClick:t[7]||(t[7]=s=>n.$emit("close")),class:"w-full sm:w-auto px-4 py-2 text-sm sm:text-base text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-lg font-medium transition-colors"},"Cancel"),e("button",{type:"submit",disabled:r(o).processing,class:"w-full sm:w-auto px-6 py-2 text-sm sm:text-base bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-lg font-semibold hover:from-emerald-700 hover:to-teal-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},b(r(o).processing?"Creating...":"Create Product"),9,jt)])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}},Pt={class:"fixed inset-0 overflow-y-auto"},Bt={class:"flex min-h-full items-center justify-center p-2 sm:p-4"},At={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4"},Ft={class:"sm:col-span-2"},Lt={class:"sm:col-span-2"},Ut=["value"],Et={key:0,class:"sm:col-span-2"},zt=["src"],Dt={class:"sm:col-span-2 flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4"},Nt={class:"flex items-center gap-2"},Vt={class:"flex items-center gap-2"},Tt={class:"flex flex-col-reverse sm:flex-row items-center justify-end gap-2 sm:gap-3 pt-3 sm:pt-4 border-t border-slate-200"},Ot=["disabled"],qt={__name:"EditProductModal",props:{show:Boolean,product:Object,categoryOptions:Array},emits:["close","productUpdated","toast"],setup(u,{emit:p}){const l=u,o=p,a=Q({id:null,name:"",description:"",price:0,stock:0,category:"",image:null,is_featured:!1,is_active:!0}),h=y(null);V(()=>l.product,t=>{t&&(a.id=t.id,a.name=t.name,a.description=t.description,a.price=t.price,a.stock=t.stock,a.category=t.category,a.is_featured=t.is_featured,a.is_active=t.is_active,h.value=t.image_url,a.image=null)});function g(t){const s=t.target.files[0];if(s){if(s.size>5242880){o("toast",{show:!0,message:"Image must be less than 5MB",type:"error"}),t.target.value="";return}a.image=s;const C=new FileReader;C.onload=P=>h.value=P.target.result,C.readAsDataURL(s)}}function n(){a.post(`/admin/products/${a.id}`,{preserveScroll:!0,preserveState:!0,onSuccess:()=>{o("productUpdated"),o("close"),a.reset(),h.value=null,o("toast",{show:!0,message:"Product updated successfully",type:"success"})},onError:t=>{const s=Object.values(t)[0];o("toast",{show:!0,message:s||"Failed to update product",type:"error"})}})}return(t,s)=>(c(),T(r(H),{show:u.show,as:"template"},{default:w(()=>[f(r(O),{onClose:s[8]||(s[8]=m=>t.$emit("close")),class:"relative z-50"},{default:w(()=>[f(r(M),{enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:w(()=>[...s[9]||(s[9]=[e("div",{class:"fixed inset-0 bg-black/30 backdrop-blur-sm"},null,-1)])]),_:1}),e("div",Pt,[e("div",Bt,[f(r(M),{enter:"ease-out duration-300","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:w(()=>[f(r(q),{class:"w-full max-w-2xl bg-white rounded-xl shadow-2xl max-h-[95vh] overflow-y-auto"},{default:w(()=>[s[20]||(s[20]=e("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-600 px-4 sm:px-6 py-3 sm:py-4 rounded-t-xl sticky top-0 z-10"},[e("h3",{class:"text-base sm:text-lg font-semibold text-white"},"Edit Product")],-1)),e("form",{onSubmit:Y(n,["prevent"]),class:"p-4 sm:p-6 space-y-3 sm:space-y-4"},[e("div",At,[e("div",Ft,[s[10]||(s[10]=e("label",{class:"block text-xs sm:text-sm font-semibold text-slate-700 mb-1.5 sm:mb-2"},"Product Name",-1)),k(e("input",{"onUpdate:modelValue":s[0]||(s[0]=m=>r(a).name=m),type:"text",required:"",class:"w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,512),[[$,r(a).name]])]),e("div",Lt,[s[11]||(s[11]=e("label",{class:"block text-xs sm:text-sm font-semibold text-slate-700 mb-1.5 sm:mb-2"},"Description",-1)),k(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=m=>r(a).description=m),rows:"2",class:"w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,512),[[$,r(a).description]])]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-xs sm:text-sm font-semibold text-slate-700 mb-1.5 sm:mb-2"},"Price (₱)",-1)),k(e("input",{"onUpdate:modelValue":s[2]||(s[2]=m=>r(a).price=m),type:"number",step:"0.01",required:"",min:"0",class:"w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,512),[[$,r(a).price]])]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-xs sm:text-sm font-semibold text-slate-700 mb-1.5 sm:mb-2"},"Stock",-1)),k(e("input",{"onUpdate:modelValue":s[3]||(s[3]=m=>r(a).stock=m),type:"number",required:"",min:"0",class:"w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,512),[[$,r(a).stock]])]),e("div",null,[s[15]||(s[15]=e("label",{class:"block text-xs sm:text-sm font-semibold text-slate-700 mb-1.5 sm:mb-2"},"Category",-1)),k(e("select",{"onUpdate:modelValue":s[4]||(s[4]=m=>r(a).category=m),required:"",class:"w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},[s[14]||(s[14]=e("option",{value:""},"Select Category",-1)),(c(!0),x(j,null,U(u.categoryOptions,m=>(c(),x("option",{key:m,value:m},b(m),9,Ut))),128))],512),[[J,r(a).category]])]),e("div",null,[s[16]||(s[16]=e("label",{class:"block text-xs sm:text-sm font-semibold text-slate-700 mb-1.5 sm:mb-2"},"Change Image",-1)),e("input",{type:"file",onChange:g,accept:"image/*",class:"w-full px-3 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all file:mr-2 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),s[17]||(s[17]=e("p",{class:"text-xs text-slate-500 mt-1"},"JPG, PNG, or WEBP (max 5MB)",-1))]),h.value?(c(),x("div",Et,[e("img",{src:h.value,class:"w-full h-32 sm:h-48 object-cover rounded-lg border-2 border-slate-200",alt:"Preview"},null,8,zt)])):L("",!0),e("div",Dt,[e("label",Nt,[k(e("input",{"onUpdate:modelValue":s[5]||(s[5]=m=>r(a).is_featured=m),type:"checkbox",class:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 border-slate-300 rounded focus:ring-blue-500"},null,512),[[D,r(a).is_featured]]),s[18]||(s[18]=e("span",{class:"text-xs sm:text-sm font-medium text-slate-700"},"Featured (Max 8)",-1))]),e("label",Vt,[k(e("input",{"onUpdate:modelValue":s[6]||(s[6]=m=>r(a).is_active=m),type:"checkbox",class:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 border-slate-300 rounded focus:ring-blue-500"},null,512),[[D,r(a).is_active]]),s[19]||(s[19]=e("span",{class:"text-xs sm:text-sm font-medium text-slate-700"},"Active",-1))])])]),e("div",Tt,[e("button",{type:"button",onClick:s[7]||(s[7]=m=>t.$emit("close")),class:"w-full sm:w-auto px-4 py-2 text-sm sm:text-base text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-lg font-medium transition-colors"},"Cancel"),e("button",{type:"submit",disabled:r(a).processing,class:"w-full sm:w-auto px-6 py-2 text-sm sm:text-base bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},b(r(a).processing?"Saving...":"Save Changes"),9,Ot)])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}},Ht={class:"fixed inset-0 overflow-y-auto"},It={class:"flex min-h-full items-center justify-center p-4"},Rt={class:"p-6"},Gt={class:"flex items-start gap-4"},Qt={class:"flex-1"},Yt={class:"text-slate-600 mb-3"},Jt={class:"font-semibold"},Wt={class:"px-6 py-4 bg-slate-50 rounded-b-xl flex items-center justify-end gap-3"},Kt=["disabled"],Xt={__name:"DeleteProductModal",props:{show:Boolean,product:Object,processing:Boolean},emits:["close","deleteConfirmed"],setup(u){return(p,l)=>(c(),T(r(H),{show:u.show,as:"template"},{default:w(()=>[f(r(O),{onClose:l[2]||(l[2]=o=>p.$emit("close")),class:"relative z-50"},{default:w(()=>[f(r(M),{enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:w(()=>[...l[3]||(l[3]=[e("div",{class:"fixed inset-0 bg-black/30 backdrop-blur-sm"},null,-1)])]),_:1}),e("div",Ht,[e("div",It,[f(r(M),{enter:"ease-out duration-300","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:w(()=>[f(r(q),{class:"w-full max-w-md bg-white rounded-xl shadow-2xl"},{default:w(()=>{var o;return[l[9]||(l[9]=e("div",{class:"bg-gradient-to-r from-red-600 to-rose-600 px-6 py-4 rounded-t-xl"},[e("h3",{class:"text-lg font-semibold text-white"},"Delete Product")],-1)),e("div",Rt,[e("div",Gt,[l[8]||(l[8]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])])],-1)),e("div",Qt,[l[6]||(l[6]=e("h4",{class:"text-lg font-semibold text-slate-900 mb-2"},"Are you sure?",-1)),e("p",Yt,[l[4]||(l[4]=N('Do you really want to delete "',-1)),e("span",Jt,b((o=u.product)==null?void 0:o.name),1),l[5]||(l[5]=N('"?',-1))]),l[7]||(l[7]=e("p",{class:"text-sm text-slate-500"},"This action cannot be undone. The product and its image will be permanently removed.",-1))])])]),e("div",Wt,[e("button",{type:"button",onClick:l[0]||(l[0]=a=>p.$emit("close")),class:"px-4 py-2 text-slate-700 bg-white hover:bg-slate-100 rounded-lg font-medium border border-slate-300 transition-colors"},"Cancel"),e("button",{type:"button",onClick:l[1]||(l[1]=a=>p.$emit("deleteConfirmed")),disabled:u.processing,class:"px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50"},b(u.processing?"Deleting...":"Delete"),9,Kt)])]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}},Zt={class:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},es={class:"bg-white border-b border-slate-200 shadow-sm"},ts={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6"},ss={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},os={class:"flex items-center gap-3 sm:gap-4"},ls={class:"flex items-center gap-2 mt-2 sm:mt-0"},rs=["disabled"],as={class:"hidden sm:inline"},ns={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ps={__name:"Products",props:{products:Array,featuredCount:Number,maxFeatured:{type:Number,default:3}},setup(u){const p=u,l=["Sofas","Chairs","Tables","Beds","Storage","Desks"],o=de(),a=y(!1),h=y(!1),g=y(!1),n=y(!1),t=y(null),s=y(null),m=y(!1),C=y(null),P=y(!1),B=y({show:!1,message:"",type:"success"}),E=y("All"),z=y(""),S=y("default"),W=[{value:"default",label:"Sort: Default"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"},{value:"stock-asc",label:"Stock: Low to High"},{value:"stock-desc",label:"Stock: High to Low"}];let I=null;const K=()=>{clearTimeout(I),I=setTimeout(()=>{},300)},X=F(()=>{let i=p.products;if(E.value!=="All"&&(i=i.filter(d=>d.category===E.value)),z.value){const d=z.value.toLowerCase();i=i.filter(v=>v.name.toLowerCase().includes(d)||v.description&&v.description.toLowerCase().includes(d))}return S.value==="price-asc"?i=[...i].sort((d,v)=>Number(d.price)-Number(v.price)):S.value==="price-desc"?i=[...i].sort((d,v)=>Number(v.price)-Number(d.price)):S.value==="stock-asc"?i=[...i].sort((d,v)=>d.stock-v.stock):S.value==="stock-desc"&&(i=[...i].sort((d,v)=>v.stock-d.stock)),i});V(()=>{var i;return(i=o.props.flash)==null?void 0:i.success},i=>{i&&_({message:i,type:"success"})}),V(()=>{var i;return(i=o.props.flash)==null?void 0:i.error},i=>{i&&_({message:i,type:"error"})});function _({message:i,type:d}){B.value={show:!0,message:i,type:d}}function Z(i){z.value=i,K()}function ee(i){E.value=i}function te(i){S.value=i}function se(){m.value=!0,A.reload({only:["products","featuredCount"],onFinish:()=>{m.value=!1,_({message:"Stock data refreshed",type:"success"})}})}function R(){a.value=!0}function oe(){a.value=!1,A.reload({only:["products","featuredCount"]})}function le(i){s.value=i,h.value=!0}function re(){h.value=!1,A.reload({only:["products","featuredCount"]})}function ae(i){C.value=i,n.value=!0}function ne(i){t.value=i,g.value=!0}function ie(){t.value&&(P.value=!0,A.delete(`/admin/products/${t.value.id}`,{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_({message:"Product deleted successfully",type:"success"})},onError:i=>{const d=Object.values(i)[0];_({message:d||"Failed to delete product",type:"error"})},onFinish:()=>{g.value=!1,t.value=null,P.value=!1,A.reload({only:["products","featuredCount"]})}}))}return(i,d)=>(c(),x(j,null,[f(r(ue),{title:"Product Management"}),f(ce,{show:B.value.show,message:B.value.message,type:B.value.type,onClose:d[0]||(d[0]=v=>B.value.show=!1)},null,8,["show","message","type"]),e("div",Zt,[e("div",es,[e("div",ts,[e("div",ss,[e("div",os,[f(r(me),{href:"/admin/dashboard",class:"p-2 hover:bg-slate-100 rounded-lg transition-colors flex-shrink-0"},{default:w(()=>[...d[5]||(d[5]=[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1}),d[6]||(d[6]=e("div",{class:"min-w-0"},[e("h1",{class:"text-xl sm:text-3xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent truncate"},"Product Management"),e("p",{class:"mt-1 text-sm sm:text-base text-slate-600"},"Manage your furniture catalog")],-1))]),e("div",ls,[e("button",{onClick:se,disabled:m.value,class:"px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-semibold transition-all flex items-center gap-2 text-sm disabled:opacity-50",title:"Refresh stock data"},[(c(),x("svg",{class:G(["w-4 h-4",{"animate-spin":m.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...d[7]||(d[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),e("span",as,b(m.value?"Refreshing...":"Refresh"),1)],8,rs),e("button",{onClick:R,class:"px-4 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-lg font-semibold hover:from-emerald-700 hover:to-teal-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-2 text-sm whitespace-nowrap"},[...d[8]||(d[8]=[e("svg",{class:"w-5 h-5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",null,"Add Product",-1)])])])])])]),e("div",ns,[f(Le,{products:u.products,"featured-count":u.featuredCount,"max-featured":u.maxFeatured},null,8,["products","featured-count","max-featured"]),f(Ge,{"search-query":z.value,"category-filter":E.value,"sort-by":S.value,categories:l,"sort-options":W,"onUpdate:searchQuery":Z,"onUpdate:categoryFilter":ee,"onUpdate:sortBy":te},null,8,["search-query","category-filter","sort-by"]),f(ft,{products:X.value,onPreview:ae,onEdit:le,onDelete:ne,onAdd:R},null,8,["products"]),f(Mt,{show:a.value,"category-options":l,onClose:d[1]||(d[1]=v=>a.value=!1),onProductAdded:oe,onToast:_},null,8,["show"]),f(qt,{show:h.value,product:s.value,"category-options":l,onClose:d[2]||(d[2]=v=>h.value=!1),onProductUpdated:re,onToast:_},null,8,["show","product"]),f(Xt,{show:g.value,product:t.value,processing:P.value,onClose:d[3]||(d[3]=v=>g.value=!1),onDeleteConfirmed:ie},null,8,["show","product","processing"]),f(pe,{show:n.value,product:C.value,"is-admin":!0,onClose:d[4]||(d[4]=v=>n.value=!1)},null,8,["show","product"])])])],64))}};export{ps as default};
