import{a as Z,_ as G}from"./MainLayout-BK3RSPha.js";import{_ as W}from"./ProductDetailModal-C6ZTonJv.js";import{_ as K}from"./ToastNotification-CkFaRKfq.js";import{c as u,a as e,o as i,r as k,i as N,f as x,b,w as B,u as h,n as C,p as y,v as w,t as m,F as P,g as F,C as ee,q as te,T as se,I as ae,s as I,d as T,l as J,A as le,E as oe,y as j,k as Y,h as re}from"./app-GKyMU9YN.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as Q,r as H}from"./XMarkIcon-MZDbsmgk.js";import{r as R}from"./TruckIcon-BmX0RSqd.js";import{r as ie}from"./ArrowLeftIcon-DPKmqoR-.js";import{r as de}from"./CreditCardIcon-lfkICRm5.js";import{r as ue}from"./SparklesIcon-BDgtflba.js";import{r as ce}from"./ShieldCheckIcon-CG7L9TYS.js";import{_ as me}from"./ProductCard-B7e0HTfS.js";import{u as pe}from"./useCart-BiLuuHAe.js";import"./EyeIcon-f56Ixm2H.js";import"./transition-DC3scIWI.js";function ve(p,v){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"})])}function be(p,v){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})])}function fe(p,v){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})])}function xe(p,v){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function ge(p,v){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}const he={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},ye={class:"flex min-h-full items-center justify-center p-4"},ke={class:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden"},we={class:"p-8"},_e={class:"flex items-center justify-center mb-8"},$e={class:"flex items-center"},Ce={class:"flex items-center"},Ne={class:"flex items-center"},ze={key:0,class:"space-y-6"},Se={class:"flex items-center gap-3 mb-6"},Me={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Pe={key:0,class:"text-red-600 text-sm mt-1"},Ve={key:0,class:"text-red-600 text-sm mt-1"},De={key:0,class:"text-red-600 text-sm mt-1"},Ae={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},qe={key:0,class:"text-red-600 text-sm mt-1"},je={key:0,class:"text-red-600 text-sm mt-1"},Ie={key:0,class:"text-red-600 text-sm mt-1"},Be={class:"bg-slate-50 p-4 rounded-lg"},Te={class:"flex justify-between text-sm mb-2"},Le={class:"font-semibold"},Ue={class:"flex justify-between text-sm mb-3"},Oe={class:"font-semibold"},Xe={class:"flex justify-between text-lg font-bold border-t border-slate-200 pt-3"},Ee={class:"text-primary-600"},Ye={key:1,class:"space-y-6"},Fe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},He=["onClick"],Qe={class:"font-bold text-slate-900 mb-1"},Je={class:"text-xs text-slate-600"},Re={key:0,class:"space-y-4 bg-slate-50 p-6 rounded-lg"},Ze={key:0,class:"text-red-600 text-sm mt-1"},Ge={key:1,class:"space-y-4 bg-slate-50 p-6 rounded-lg"},We=["value"],Ke={key:0,class:"text-red-600 text-sm mt-1"},et={key:0,class:"text-red-600 text-sm mt-1"},tt={class:"grid grid-cols-2 gap-4"},st=["value"],at={key:0,class:"text-red-600 text-sm mt-1"},lt={key:0,class:"text-red-600 text-sm mt-1"},ot={key:2,class:"space-y-4 bg-slate-50 p-6 rounded-lg"},rt={key:0,class:"text-red-600 text-sm mt-1"},nt={key:0,class:"text-red-600 text-sm mt-1"},it={key:0,class:"text-red-600 text-sm mt-1"},dt={class:"bg-slate-50 p-4 rounded-lg"},ut={class:"flex justify-between text-lg font-bold"},ct={class:"text-primary-600"},mt=["disabled"],pt={key:0,class:"fixed top-24 right-4 z-[100] max-w-sm w-full"},vt={class:"p-4 bg-emerald-100 border border-emerald-300 text-emerald-800 rounded-lg shadow-lg flex items-center gap-3"},bt={__name:"CheckoutModal",props:{show:Boolean,total:Number,subtotal:{type:Number,default:0},shipping:{type:Number,default:500}},emits:["close","success"],setup(p,{emit:v}){const s=v,l=k(1),c=k(""),f=k(!1),$=k({show:!1,message:"",type:"success"}),n=k({name:"",phone:"",address:"",city:"",province:"",postalCode:"",notes:""}),a=k({gcash:{phone:""},card:{cardNumber:"",cardName:"",expiryDate:"",cvv:""},bank:{bankName:"",accountNumber:"",accountName:""}}),r=k({}),_=[{id:"gcash",name:"GCash",icon:be,description:"Mobile wallet payment"},{id:"card",name:"Credit/Debit Card",icon:de,description:"Visa, Mastercard, AmEx"},{id:"bank",name:"Bank Transfer",icon:ve,description:"Direct bank transfer"}];function z(o,t="success"){$.value={show:!0,message:o,type:t}}function L(){$.value.show=!1}function g(o){return!o||typeof o!="string"?"":o.replace(/<[^>]*>/g,"").trim()}function S(){return r.value={},n.value.name=g(n.value.name),n.value.phone=g(n.value.phone),n.value.address=g(n.value.address),n.value.city=g(n.value.city),n.value.province=g(n.value.province),n.value.postalCode=g(n.value.postalCode),n.value.notes=g(n.value.notes),(!n.value.name||n.value.name.length<2||!/^[A-Za-z ]+$/.test(n.value.name))&&(r.value.name="Full name is required (letters and spaces only, min 2 characters)"),(!n.value.phone||!/^(09|\+639)\d{9}$/.test(n.value.phone))&&(r.value.phone="Valid Philippine mobile number required (09XXXXXXXXX)"),(!n.value.address||n.value.address.length<10)&&(r.value.address="Complete address is required (minimum 10 characters)"),(!n.value.city||n.value.city.length<2||!/^[A-Za-z ]+$/.test(n.value.city))&&(r.value.city="City is required (letters and spaces only, min 2 characters)"),(!n.value.province||n.value.province.length<2||!/^[A-Za-z ]+$/.test(n.value.province))&&(r.value.province="Province is required (letters and spaces only, min 2 characters)"),(!n.value.postalCode||!/^\d{4}$/.test(n.value.postalCode))&&(r.value.postalCode="Postal code required (4 digits)"),Object.keys(r.value).length===0}function M(){S()&&(l.value=2,r.value={})}function V(o){c.value=o,r.value={}}function U(){return r.value={},c.value==="gcash"?(a.value.gcash.phone=g(a.value.gcash.phone),(!a.value.gcash.phone||!/^(09|\+639)\d{9}$/.test(a.value.gcash.phone))&&(r.value.gcashPhone="Valid GCash number required (09XXXXXXXXX)")):c.value==="card"?(a.value.card.cardNumber=g(a.value.card.cardNumber),a.value.card.cardName=g(a.value.card.cardName),a.value.card.expiryDate=g(a.value.card.expiryDate),a.value.card.cvv=g(a.value.card.cvv),(!a.value.card.cardNumber||!/^\d{16}$/.test(a.value.card.cardNumber.replace(/\s/g,"")))&&(r.value.cardNumber="Valid 16-digit card number required"),(!a.value.card.cardName||a.value.card.cardName.length<3||!/^[A-Za-z ]+$/.test(a.value.card.cardName))&&(r.value.cardName="Cardholder name required (letters and spaces only, min 3 characters)"),(!a.value.card.expiryDate||!/^\d{2}\/\d{2}$/.test(a.value.card.expiryDate))&&(r.value.expiryDate="Valid expiry date required (MM/YY)"),(!a.value.card.cvv||!/^\d{3,4}$/.test(a.value.card.cvv))&&(r.value.cvv="Valid CVV required (3 or 4 digits)")):c.value==="bank"&&(a.value.bank.bankName=g(a.value.bank.bankName),a.value.bank.accountNumber=g(a.value.bank.accountNumber),a.value.bank.accountName=g(a.value.bank.accountName),(!a.value.bank.bankName||a.value.bank.bankName.length<3)&&(r.value.bankName="Bank name required"),(!a.value.bank.accountNumber||!/^\d{10,20}$/.test(a.value.bank.accountNumber))&&(r.value.accountNumber="Valid account number required (10-20 digits)"),(!a.value.bank.accountName||a.value.bank.accountName.length<3||!/^[A-Za-z ]+$/.test(a.value.bank.accountName))&&(r.value.accountName="Account holder name required (letters and spaces only, min 3 characters)")),Object.keys(r.value).length===0}function O(){if(!U()){console.log("Validation failed",r.value);return}f.value=!0;let o;c.value==="card"?o={holder:a.value.card.cardName,number:a.value.card.cardNumber.replace(/\s/g,""),expiry:a.value.card.expiryDate,cvc:a.value.card.cvv}:c.value==="bank"?o={account_name:a.value.bank.accountName,account_number:a.value.bank.accountNumber,reference:a.value.bank.reference||"BANKREF"+Date.now()}:o=JSON.parse(JSON.stringify(a.value[c.value])),console.log("Sending checkout request",{payment_method:c.value,payment_data:o,delivery:n.value}),I.post("/cart/checkout",{payment_method:c.value,payment_data:o,delivery:JSON.parse(JSON.stringify(n.value))},{onSuccess:()=>{s("success"),s("close"),D()},onError:t=>{f.value=!1,console.error("Checkout error",t),t?(Object.keys(t).forEach(d=>{r.value[d]=t[d]}),t.error?z(t.error,"error"):z("Please check your input and try again.","error")):z("An unknown error occurred.","error")},onFinish:()=>{f.value=!1}})}function D(){l.value=1,c.value="",n.value={name:"",phone:"",address:"",city:"",province:"",postalCode:"",notes:""},a.value={gcash:{phone:""},card:{cardNumber:"",cardName:"",expiryDate:"",cvv:""},bank:{bankName:"",accountNumber:"",accountName:""}},r.value={}}function A(){s("close"),setTimeout(D,300)}function q(o){var E;let t=o.target.value.replace(/\s/g,""),d=((E=t.match(/.{1,4}/g))==null?void 0:E.join(" "))||t;a.value.card.cardNumber=d}function X(o){let t=o.target.value.replace(/\D/g,"");t.length>=2&&(t=t.slice(0,2)+"/"+t.slice(2,4)),a.value.card.expiryDate=t}return(o,t)=>(i(),u(P,null,[(i(),N(ae,{to:"body"},[b(se,{name:"modal"},{default:B(()=>[p.show?(i(),u("div",he,[e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:A}),e("div",ye,[e("div",ke,[e("button",{onClick:A,class:"absolute top-4 right-4 z-10 p-2 hover:bg-slate-100 rounded-full transition-colors"},[b(h(Q),{class:"w-6 h-6 text-slate-600"})]),e("div",we,[e("div",_e,[e("div",$e,[e("div",Ce,[e("div",{class:C(["w-10 h-10 rounded-full flex items-center justify-center font-bold",l.value>=1?"bg-primary-600 text-white":"bg-slate-200 text-slate-500"])}," 1 ",2),t[14]||(t[14]=e("span",{class:"ml-2 text-sm font-medium text-slate-700"},"Delivery",-1))]),e("div",{class:C(["w-24 h-1 mx-4",l.value>=2?"bg-primary-600":"bg-slate-200"])},null,2),e("div",Ne,[e("div",{class:C(["w-10 h-10 rounded-full flex items-center justify-center font-bold",l.value>=2?"bg-primary-600 text-white":"bg-slate-200 text-slate-500"])}," 2 ",2),t[15]||(t[15]=e("span",{class:"ml-2 text-sm font-medium text-slate-700"},"Payment",-1))])])]),l.value===1?(i(),u("div",ze,[e("div",Se,[b(h(R),{class:"w-8 h-8 text-primary-600"}),t[16]||(t[16]=e("h2",{class:"text-2xl font-bold text-slate-900"},"Delivery Information",-1))]),e("div",Me,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Full Name *",-1)),y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>n.value.name=d),type:"text",placeholder:"Juan Dela Cruz",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.name]]),r.value.name?(i(),u("p",Pe,m(r.value.name),1)):x("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Mobile Number *",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>n.value.phone=d),type:"tel",placeholder:"09123456789",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.phone]]),r.value.phone?(i(),u("p",Ve,m(r.value.phone),1)):x("",!0)])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Complete Address *",-1)),y(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=d=>n.value.address=d),rows:"3",placeholder:"House No., Street, Barangay",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.address]]),r.value.address?(i(),u("p",De,m(r.value.address),1)):x("",!0)]),e("div",Ae,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"City *",-1)),y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=d=>n.value.city=d),type:"text",placeholder:"Manila",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.city]]),r.value.city?(i(),u("p",qe,m(r.value.city),1)):x("",!0)]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Province *",-1)),y(e("input",{"onUpdate:modelValue":t[4]||(t[4]=d=>n.value.province=d),type:"text",placeholder:"Metro Manila",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.province]]),r.value.province?(i(),u("p",je,m(r.value.province),1)):x("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Postal Code *",-1)),y(e("input",{"onUpdate:modelValue":t[5]||(t[5]=d=>n.value.postalCode=d),type:"text",maxlength:"4",placeholder:"1000",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.postalCode]]),r.value.postalCode?(i(),u("p",Ie,m(r.value.postalCode),1)):x("",!0)])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Delivery Notes (Optional)",-1)),y(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=d=>n.value.notes=d),rows:"2",placeholder:"Special instructions, landmarks, etc.",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,n.value.notes]])]),e("div",Be,[e("div",Te,[t[24]||(t[24]=e("span",{class:"text-slate-600"},"Subtotal:",-1)),e("span",Le,"₱"+m(Number(p.subtotal).toLocaleString()),1)]),e("div",Ue,[t[25]||(t[25]=e("span",{class:"text-slate-600"},"Shipping:",-1)),e("span",Oe,"₱"+m(Number(p.shipping).toLocaleString()),1)]),e("div",Xe,[t[26]||(t[26]=e("span",null,"Total:",-1)),e("span",Ee,"₱"+m(Number(p.total).toLocaleString()),1)])]),e("button",{onClick:M,class:"w-full py-4 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-colors"}," Continue to Payment ")])):x("",!0),l.value===2?(i(),u("div",Ye,[e("button",{onClick:t[7]||(t[7]=d=>l.value=1),class:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4"},[b(h(ie),{class:"w-5 h-5"}),t[27]||(t[27]=e("span",{class:"text-sm font-medium"},"Back to Delivery",-1))]),t[38]||(t[38]=e("h2",{class:"text-2xl font-bold text-slate-900 mb-6"},"Select Payment Method",-1)),e("div",Fe,[(i(),u(P,null,F(_,d=>e("button",{key:d.id,onClick:E=>V(d.id),class:C(["p-6 border-2 rounded-xl transition-all hover:border-primary-300 hover:shadow-md",c.value===d.id?"border-primary-600 bg-primary-50":"border-slate-200"])},[(i(),N(ee(d.icon),{class:C(["w-12 h-12 mx-auto mb-3",c.value===d.id?"text-primary-600":"text-slate-400"])},null,8,["class"])),e("h3",Qe,m(d.name),1),e("p",Je,m(d.description),1)],10,He)),64))]),c.value==="gcash"?(i(),u("div",Re,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"GCash Number *",-1)),y(e("input",{"onUpdate:modelValue":t[8]||(t[8]=d=>a.value.gcash.phone=d),type:"tel",placeholder:"09123456789",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,a.value.gcash.phone]]),r.value.gcashPhone?(i(),u("p",Ze,m(r.value.gcashPhone),1)):x("",!0)])])):x("",!0),c.value==="card"?(i(),u("div",Ge,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Card Number *",-1)),e("input",{value:a.value.card.cardNumber,onInput:q,type:"text",maxlength:"19",placeholder:"1234 5678 9012 3456",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,40,We),r.value.cardNumber?(i(),u("p",Ke,m(r.value.cardNumber),1)):x("",!0)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Cardholder Name *",-1)),y(e("input",{"onUpdate:modelValue":t[9]||(t[9]=d=>a.value.card.cardName=d),type:"text",placeholder:"JUAN DELA CRUZ",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,a.value.card.cardName]]),r.value.cardName?(i(),u("p",et,m(r.value.cardName),1)):x("",!0)]),e("div",tt,[e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Expiry Date *",-1)),e("input",{value:a.value.card.expiryDate,onInput:X,type:"text",maxlength:"5",placeholder:"MM/YY",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,40,st),r.value.expiryDate?(i(),u("p",at,m(r.value.expiryDate),1)):x("",!0)]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"CVV *",-1)),y(e("input",{"onUpdate:modelValue":t[10]||(t[10]=d=>a.value.card.cvv=d),type:"password",maxlength:"4",placeholder:"•••",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,a.value.card.cvv]]),r.value.cvv?(i(),u("p",lt,m(r.value.cvv),1)):x("",!0)])])])):x("",!0),c.value==="bank"?(i(),u("div",ot,[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Bank Name *",-1)),y(e("select",{"onUpdate:modelValue":t[11]||(t[11]=d=>a.value.bank.bankName=d),class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},[...t[33]||(t[33]=[e("option",{value:""},"Select Bank",-1),e("option",{value:"BDO"},"BDO",-1),e("option",{value:"BPI"},"BPI",-1),e("option",{value:"Metrobank"},"Metrobank",-1),e("option",{value:"Unionbank"},"Unionbank",-1),e("option",{value:"Landbank"},"Landbank",-1)])],512),[[te,a.value.bank.bankName]]),r.value.bankName?(i(),u("p",rt,m(r.value.bankName),1)):x("",!0)]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Account Number *",-1)),y(e("input",{"onUpdate:modelValue":t[12]||(t[12]=d=>a.value.bank.accountNumber=d),type:"text",placeholder:"1234567890",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,a.value.bank.accountNumber]]),r.value.accountNumber?(i(),u("p",nt,m(r.value.accountNumber),1)):x("",!0)]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Account Holder Name *",-1)),y(e("input",{"onUpdate:modelValue":t[13]||(t[13]=d=>a.value.bank.accountName=d),type:"text",placeholder:"Juan Dela Cruz",class:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[w,a.value.bank.accountName]]),r.value.accountName?(i(),u("p",it,m(r.value.accountName),1)):x("",!0)])])):x("",!0),e("div",dt,[e("div",ut,[t[37]||(t[37]=e("span",null,"Total to Pay:",-1)),e("span",ct,"₱"+m(Number(p.total).toLocaleString()),1)])]),e("button",{onClick:O,disabled:f.value||!c.value,class:"w-full py-4 bg-primary-600 hover:bg-primary-700 disabled:bg-slate-300 text-white font-bold rounded-lg transition-colors disabled:cursor-not-allowed"},m(f.value?"Processing...":"Complete Order"),9,mt)])):x("",!0)])])])])):x("",!0)]),_:1})])),$.value.show?(i(),u("div",pt,[e("div",vt,[e("span",null,m($.value.message),1),e("button",{onClick:L,class:"ml-auto text-emerald-700 hover:text-emerald-900"},[b(h(Q),{class:"w-5 h-5"})])])])):x("",!0)],64))}},ft=ne(bt,[["__scopeId","data-v-30579869"]]),xt={class:"relative bg-gradient-to-br from-primary-600 via-emerald-700 to-emerald-800 text-white overflow-hidden"},gt={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-16 relative"},ht={class:"max-w-4xl mx-auto text-center","data-aos":"fade-up"},yt={class:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full mb-4"},kt={class:"text-sm font-medium"},wt={__name:"CartHeader",props:{itemCount:{type:Number,default:0}},setup(p){return(v,s)=>(i(),u("div",xt,[s[2]||(s[2]=e("div",{class:"absolute inset-0 bg-[url('/grid.svg')] opacity-10"},null,-1)),e("div",gt,[e("div",ht,[e("div",yt,[b(h(H),{class:"w-4 h-4"}),e("span",kt,m(p.itemCount)+" "+m(p.itemCount===1?"Item":"Items"),1)]),s[0]||(s[0]=e("h1",{class:"text-4xl md:text-5xl font-bold tracking-tight mb-4"}," Your Shopping Cart ",-1)),s[1]||(s[1]=e("p",{class:"text-lg text-emerald-100"}," Review your items and proceed to secure checkout ",-1))])])]))}},_t={class:"max-w-2xl mx-auto text-center py-24 bg-white rounded-2xl shadow-lg","data-aos":"fade-up"},$t={class:"mx-auto w-24 h-24 bg-gradient-to-br from-primary-100 to-emerald-100 rounded-full flex items-center justify-center mb-6"},Ct={__name:"SignInPrompt",emits:["openAuthModal"],setup(p){return(v,s)=>(i(),u("div",_t,[e("div",$t,[b(h(H),{class:"w-12 h-12 text-primary-600"})]),s[2]||(s[2]=e("h2",{class:"text-3xl font-bold text-zinc-900 mb-3"},"Sign in to view your cart",-1)),s[3]||(s[3]=e("p",{class:"text-lg text-zinc-600 mb-8"},"Please sign in or create an account to start shopping.",-1)),e("button",{onClick:s[0]||(s[0]=l=>v.$emit("openAuthModal")),class:"inline-flex items-center gap-2 bg-primary-600 text-white font-bold px-8 py-4 rounded-xl hover:bg-primary-700 transition-all hover:scale-105 shadow-lg"},[b(h(ue),{class:"w-5 h-5"}),s[1]||(s[1]=T(" Sign In / Sign Up ",-1))])]))}},Nt={class:"max-w-2xl mx-auto text-center py-24 bg-white rounded-2xl shadow-lg","data-aos":"fade-up"},zt={class:"mx-auto w-24 h-24 bg-gradient-to-br from-zinc-100 to-zinc-200 rounded-full flex items-center justify-center mb-6"},St={__name:"EmptyCart",setup(p){return(v,s)=>(i(),u("div",Nt,[e("div",zt,[b(h(H),{class:"w-12 h-12 text-zinc-400"})]),s[1]||(s[1]=e("h2",{class:"text-3xl font-bold text-zinc-900 mb-3"},"Your cart is empty",-1)),s[2]||(s[2]=e("p",{class:"text-lg text-zinc-600 mb-8"},"Discover our collection of premium furniture",-1)),b(h(J),{href:"/products",class:"inline-flex items-center gap-2 bg-primary-600 text-white font-bold px-8 py-4 rounded-xl hover:bg-primary-700 transition-all hover:scale-105 shadow-lg"},{default:B(()=>[...s[0]||(s[0]=[T(" Continue Shopping ",-1),e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})],-1)])]),_:1})]))}},Mt={class:"lg:col-span-2 space-y-4"},Pt={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 overflow-hidden"},Vt={role:"list",class:"divide-y divide-zinc-200"},Dt={class:"flex gap-6"},At={class:"flex-shrink-0 w-24 h-24 sm:w-32 sm:h-32 rounded-xl overflow-hidden shadow-sm group-hover:shadow-md transition-shadow"},qt=["src","alt"],jt={key:1,class:"w-full h-full bg-gradient-to-br from-zinc-100 to-zinc-200 flex items-center justify-center"},It={class:"flex-1 flex flex-col justify-between"},Bt={class:"flex justify-between"},Tt={class:"text-lg font-bold text-zinc-900 mb-1"},Lt={class:"text-sm text-zinc-500 uppercase tracking-wider"},Ut={class:"text-xl font-bold text-primary-600 ml-4"},Ot={class:"text-sm text-zinc-600 mt-2"},Xt={class:"flex items-center justify-between mt-4"},Et={class:"flex items-center gap-3 bg-zinc-100 rounded-xl p-1"},Yt=["onClick","disabled"],Ft=["value","max","onInput","onBlur"],Ht=["onClick","disabled"],Qt=["onClick"],Jt={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 p-6"},Rt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Zt={class:"flex items-center gap-3 p-4 bg-blue-50 rounded-xl border border-blue-100"},Gt={class:"flex-shrink-0 w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center"},Wt={class:"flex items-center gap-3 p-4 bg-emerald-50 rounded-xl border border-emerald-100"},Kt={class:"flex-shrink-0 w-10 h-10 bg-emerald-600 rounded-lg flex items-center justify-center"},es={__name:"CartItems",props:{cartItems:{type:Array,default:()=>[]}},emits:["updateQuantity","removeItem"],setup(p){return(v,s)=>(i(),u("div",Mt,[e("div",Pt,[s[2]||(s[2]=e("div",{class:"bg-gradient-to-r from-zinc-50 to-white px-6 py-4 border-b border-zinc-200"},[e("h2",{class:"text-xl font-bold text-zinc-900"},"Cart Items")],-1)),e("ul",Vt,[(i(!0),u(P,null,F(p.cartItems,l=>(i(),u("li",{key:l.product_id||l.id,class:"p-6 hover:bg-zinc-50 transition-colors group"},[e("div",Dt,[e("div",At,[l.image_url?(i(),u("img",{key:0,src:l.image_url,alt:l.name,class:"w-full h-full object-cover"},null,8,qt)):(i(),u("div",jt,[...s[0]||(s[0]=[e("svg",{class:"w-12 h-12 text-zinc-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))]),e("div",It,[e("div",null,[e("div",Bt,[e("div",null,[e("h3",Tt,m(l.name),1),e("p",Lt,m(l.category),1)]),e("p",Ut,"₱"+m((Number(l.price)*l.quantity).toLocaleString()),1)]),e("p",Ot,"₱"+m(Number(l.price).toLocaleString())+" each",1)]),e("div",Xt,[e("div",Et,[e("button",{onClick:c=>v.$emit("updateQuantity",{productId:l.product_id||l.id,quantity:l.quantity-1,stock:l.stock}),disabled:l.quantity<=1,class:C(["w-10 h-10 rounded-lg",l.quantity<=1?"bg-zinc-200 text-zinc-400 cursor-not-allowed":"bg-white hover:bg-primary-600 hover:text-white","transition-all flex items-center justify-center shadow-sm"]),"aria-label":"Decrease quantity"},[b(h(fe),{class:"w-4 h-4"})],10,Yt),e("input",{type:"number",value:l.quantity,min:"1",max:l.stock,onInput:c=>{let f=c.target.value.replace(/[^0-9]/g,"");f=f?Math.max(1,Math.min(Number(f),l.stock)):1,f!=l.quantity&&v.$emit("updateQuantity",{productId:l.product_id||l.id,quantity:f,stock:l.stock})},onBlur:c=>{let f=c.target.value.replace(/[^0-9]/g,"");f=f?Math.max(1,Math.min(Number(f),l.stock)):1,f!=l.quantity&&v.$emit("updateQuantity",{productId:l.product_id||l.id,quantity:f,stock:l.stock})},class:"w-16 text-center font-bold text-zinc-900 rounded-lg border border-zinc-300 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all py-2 px-2 bg-white","aria-label":"Product quantity"},null,40,Ft),e("button",{onClick:c=>v.$emit("updateQuantity",{productId:l.product_id||l.id,quantity:l.quantity+1,stock:l.stock}),disabled:l.quantity>=l.stock,class:C(["w-10 h-10 rounded-lg",l.quantity>=l.stock?"bg-red-100 text-red-400 cursor-not-allowed":"bg-white hover:bg-primary-600 hover:text-white","transition-all flex items-center justify-center shadow-sm"]),"aria-label":"Increase quantity"},[b(h(xe),{class:"w-4 h-4"})],10,Ht)]),e("button",{type:"button",class:"inline-flex items-center gap-2 font-semibold text-red-600 hover:text-red-700 hover:bg-red-50 px-4 py-2 rounded-lg transition-colors",onClick:c=>v.$emit("removeItem",l.product_id||l.id)},[b(h(ge),{class:"w-4 h-4"}),s[1]||(s[1]=T(" Remove ",-1))],8,Qt)])])])]))),128))])]),e("div",Jt,[s[5]||(s[5]=e("h3",{class:"text-lg font-bold text-zinc-900 mb-4"},"Why Shop With Us?",-1)),e("div",Rt,[e("div",Zt,[e("div",Gt,[b(h(ce),{class:"w-6 h-6 text-white"})]),s[3]||(s[3]=e("div",null,[e("p",{class:"font-semibold text-zinc-900 text-sm"},"Secure Payment"),e("p",{class:"text-xs text-zinc-600"},"100% Protected")],-1))]),e("div",Wt,[e("div",Kt,[b(h(R),{class:"w-6 h-6 text-white"})]),s[4]||(s[4]=e("div",null,[e("p",{class:"font-semibold text-zinc-900 text-sm"},"Free Shipping"),e("p",{class:"text-xs text-zinc-600"},"All Orders")],-1))])])])]))}},ts={class:"sticky top-24 space-y-4"},ss={class:"bg-white rounded-2xl shadow-lg border border-zinc-200 p-6"},as={class:"space-y-4"},ls={class:"flex items-center justify-between text-zinc-600"},os={class:"font-semibold text-zinc-900"},rs={class:"flex items-center justify-between text-zinc-600"},ns={class:"font-semibold text-emerald-600"},is={class:"border-t-2 border-zinc-200 pt-4"},ds={class:"flex items-center justify-between"},us={class:"text-2xl font-bold text-primary-600"},cs={class:"mt-6"},ms={__name:"OrderSummary",props:{subtotal:{type:Number,required:!0},shipping:{type:Number,required:!0},total:{type:Number,required:!0}},emits:["checkout"],setup(p){return(v,s)=>(i(),u("div",ts,[e("div",ss,[s[5]||(s[5]=e("h2",{class:"text-xl font-bold text-zinc-900 mb-6"},"Order Summary",-1)),e("div",as,[e("div",ls,[s[1]||(s[1]=e("p",null,"Subtotal",-1)),e("p",os,"₱"+m(Number(p.subtotal).toLocaleString()),1)]),e("div",rs,[s[2]||(s[2]=e("p",null,"Shipping Fee",-1)),e("p",ns,"₱"+m(Number(p.shipping).toLocaleString()),1)]),e("div",is,[e("div",ds,[s[3]||(s[3]=e("p",{class:"text-lg font-bold text-zinc-900"},"Total",-1)),e("p",us,"₱"+m(Number(p.total).toLocaleString()),1)])])]),e("div",cs,[e("button",{class:"w-full bg-gradient-to-r from-primary-600 to-emerald-600 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all",onClick:s[0]||(s[0]=l=>v.$emit("checkout"))}," Proceed to Checkout ")]),b(h(J),{href:"/products",class:"block text-center mt-4 text-primary-600 hover:text-primary-700 font-semibold text-sm"},{default:B(()=>[...s[4]||(s[4]=[T(" Continue Shopping ",-1)])]),_:1})]),s[6]||(s[6]=le('<div class="bg-gradient-to-br from-zinc-50 to-white rounded-2xl border border-zinc-200 p-6"><h3 class="text-sm font-bold text-zinc-900 mb-3 uppercase tracking-wider">Secure Checkout</h3><div class="space-y-3 text-sm text-zinc-600"><div class="flex items-center gap-2"><svg class="w-4 h-4 text-emerald-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span>SSL Encrypted Payment</span></div><div class="flex items-center gap-2"><svg class="w-4 h-4 text-emerald-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span>30-Day Return Policy</span></div><div class="flex items-center gap-2"><svg class="w-4 h-4 text-emerald-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span>5-Year Warranty</span></div></div></div>',1))]))}},ps={key:0,class:"bg-white py-16"},vs={class:"container mx-auto px-4 sm:px-6 lg:px-8"},bs={class:"grid grid-cols-2 md:grid-cols-4 gap-6"},fs={__name:"SuggestedProducts",props:{suggestedProducts:{type:Array,default:()=>[]}},emits:["addToCart","productClick"],setup(p){return(v,s)=>p.suggestedProducts&&p.suggestedProducts.length>0?(i(),u("div",ps,[e("div",vs,[s[0]||(s[0]=e("div",{class:"text-center mb-12","data-aos":"fade-up"},[e("h2",{class:"text-3xl md:text-4xl font-bold text-zinc-900 mb-3"},"You Might Also Like"),e("p",{class:"text-lg text-zinc-600"},"Complete your home with these handpicked items")],-1)),e("div",bs,[(i(!0),u(P,null,F(p.suggestedProducts,(l,c)=>(i(),N(me,{key:l.id,id:l.id,name:l.name,price:l.price,category:l.category,stock:l.stock,image:l.image_url,delay:c*100,onAddToCart:f=>v.$emit("addToCart",l),onClick:f=>v.$emit("productClick",l)},null,8,["id","name","price","category","stock","image","delay","onAddToCart","onClick"]))),128))])])])):x("",!0)}},xs={class:"bg-zinc-50 min-h-screen"},gs={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-12"},hs={key:2,class:"grid grid-cols-1 lg:grid-cols-3 gap-8","data-aos":"fade-up"},ys={class:"lg:col-span-1"},Is={__name:"Cart",props:{suggestedProducts:Array},setup(p){const v=oe(),s=k(v.props.cartItems||[]),l=j(()=>{var o;return!!((o=v.props.auth)!=null&&o.user)}),c=k(!1),f=k(!1),$=k(!1),n=k(null),a=k({show:!1,message:"",type:"success"}),{addToCart:r}=pe({showToast:_,isAuthenticated:l,isAuthOpen:c});Y(()=>v.props.cartItems,o=>{s.value=o||[]}),Y(()=>{var o;return(o=v.props.flash)==null?void 0:o.success},o=>{o&&_(o,"success")}),Y(()=>{var o;return(o=v.props.flash)==null?void 0:o.error},o=>{o&&_(o,"error")});function _(o,t="success"){a.value={show:!0,message:o,type:t}}function z(){a.value.show=!1}function L(o){_(o,"success")}function g(o){n.value={...o,id:o.id||o.product_id},$.value=!0}const S=j(()=>s.value.reduce((o,t)=>o+t.price*t.quantity,0)),M=j(()=>s.value.length?500:0),V=j(()=>S.value+M.value);function U(o){I.delete(`/cart/${o}`,{preserveScroll:!0})}function O(o,t){I.patch(`/cart/${o}`,{quantity:t},{preserveScroll:!0})}function D(){if(!l.value){c.value=!0;return}if(s.value.length===0){_("Your cart is empty","error");return}f.value=!0}function A(){_("Order placed successfully! Redirecting to your orders...","success"),f.value=!1,setTimeout(()=>{I.visit("/orders",{replace:!0})},1200)}function q(o){r(o)}function X({productId:o,quantity:t,stock:d}){if(isNaN(t)||t<1){_("Quantity must be at least 1","error");return}if(t>d){_("Not enough stock available","error");return}O(o,t)}return(o,t)=>(i(),u(P,null,[b(h(re),{title:"Your Cart"}),b(G,null,{default:B(()=>[b(K,{show:a.value.show,message:a.value.message,type:a.value.type,onClose:z},null,8,["show","message","type"]),b(wt,{"item-count":s.value.length},null,8,["item-count"]),e("div",xs,[e("div",gs,[l.value?s.value.length?(i(),u("div",hs,[b(es,{"cart-items":s.value,onUpdateQuantity:X,onRemoveItem:U},null,8,["cart-items"]),e("div",ys,[b(ms,{subtotal:S.value,shipping:M.value,total:V.value,onCheckout:D},null,8,["subtotal","shipping","total"])])])):(i(),N(St,{key:1})):(i(),N(Ct,{key:0,onOpenAuthModal:t[0]||(t[0]=d=>c.value=!0)}))])]),b(fs,{"suggested-products":p.suggestedProducts,onAddToCart:q,onProductClick:g},null,8,["suggested-products"]),n.value?(i(),N(W,{key:0,show:$.value,product:n.value,onClose:t[1]||(t[1]=d=>$.value=!1),onAddToCart:q},null,8,["show","product"])):x("",!0),b(Z,{show:c.value,onClose:t[2]||(t[2]=d=>c.value=!1),onAuthSuccess:L},null,8,["show"]),b(ft,{show:f.value,total:V.value,subtotal:S.value,shipping:M.value,onClose:t[3]||(t[3]=d=>f.value=!1),onSuccess:A},null,8,["show","total","subtotal","shipping"])]),_:1})],64))}};export{Is as default};
