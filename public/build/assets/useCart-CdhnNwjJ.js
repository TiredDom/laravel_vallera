import{p as s,s as f}from"./app-B-e4HDZA.js";function m({showToast:c,isAuthenticated:n,isAuthOpen:u}){const t=s(!1);function d(a,i,o){if(!n.value){u.value=!0;return}const e={id:a.id||a.product_id,name:a.name,price:a.price,stock:a.stock,category:a.category};if(!e.id||!e.name||!e.price||e.stock<=0){c("Invalid product or out of stock","error");return}t.value=!0;const l={product_id:e.id,name:e.name,price:e.price,quantity:1,category:e.category};f.post("/cart",l,{preserveScroll:!0,onSuccess:()=>{c("Product added to cart!","success"),t.value=!1,i&&i()},onError:r=>{c((r==null?void 0:r.error)||"Failed to add to cart","error"),t.value=!1,o&&o(r)}})}return{addToCart:d,isProcessing:t}}export{m as u};
